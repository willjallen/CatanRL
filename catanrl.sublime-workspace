{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"total",
				"totalVolumnSoFar"
			],
			[
				"getW",
				"getWeight"
			],
			[
				"st",
				"status"
			],
			[
				"action",
				"action_okay"
			],
			[
				"PLAY",
				"PLAY_DEV_CARD"
			],
			[
				"pla",
				"player_with_turn"
			],
			[
				"all",
				"allowed_actions"
			],
			[
				"PUR",
				"PURCHASE_AND_PLAY_BUILDING"
			],
			[
				"ava",
				"available_buildings"
			],
			[
				"PURC",
				"PURCHASE_DEV_CARD"
			],
			[
				"can",
				"can_trade_to_bank"
			],
			[
				"Y",
				"YearOfPlenty\t(game.py)"
			],
			[
				"Vic",
				"VictoryPoint\t(game.py)"
			],
			[
				"dev_card",
				"dev_card_response\tabc"
			],
			[
				"disp",
				"displayBoard\tabc"
			],
			[
				"which",
				"which_player_response\tabc"
			],
			[
				"loc",
				"loc_y_response\tabc"
			],
			[
				"resourc",
				"resource_response\tabc"
			],
			[
				"prompt",
				"promptActions\tabc"
			],
			[
				"displ",
				"displayFullGameInfo\tabc"
			],
			[
				"display",
				"displayBoard\tabc"
			],
			[
				"Game",
				"GameWrapper\tabc"
			],
			[
				"promp",
				"promptActions\tabc"
			],
			[
				"inner",
				"innerArrayLength\tabc"
			],
			[
				"inn",
				"innerArrayDirectionSwitch\tabc"
			],
			[
				"x",
				"xHex\tabc"
			],
			[
				"rollS",
				"rollSum\tabc"
			],
			[
				"GLFW",
				"GLFWwindow\tabc"
			],
			[
				"game",
				"gameWindow\tabc"
			],
			[
				"SCREEN",
				"SCREEN_HEIGHT\tabc"
			],
			[
				"screen",
				"screenHeight\tabc"
			],
			[
				"SCREE",
				"SCREEN_HEIGHT\tabc"
			],
			[
				"SCREEN_",
				"SCREEN_WIDTH\tabc"
			],
			[
				"Resour",
				"ResourceType\t(board.cpp)"
			],
			[
				"Resourc",
				"ResourceType.h\t(board.cpp)"
			],
			[
				"Resource",
				"ResourceType\tabc"
			],
			[
				"Resou",
				"ResourceType\t(board.cpp)"
			],
			[
				"TWO_TO",
				"TWO_TO_ONE_ORE\tabc"
			],
			[
				"TWO",
				"TWO_TO_ONE_bBRICK\tabc"
			],
			[
				"TWO_",
				"TWO_TO_ONE_WOOD\tabc"
			],
			[
				"rollSu",
				"rollSumThree\tabc"
			],
			[
				"resour",
				"resourceThree\tabc"
			],
			[
				"resource",
				"resourceThree\tabc"
			],
			[
				"Linked",
				"LinkedList\t(LinkedList.cpp)"
			],
			[
				"curr",
				"currNode\tabc"
			],
			[
				"cur",
				"currNode\tabc"
			],
			[
				"found",
				"foundPtr_next\tabc"
			],
			[
				"tail",
				"_tailPtr"
			],
			[
				"userNa",
				"userNameLower\tabc"
			],
			[
				"to",
				"tolower\t(Post.cpp)"
			],
			[
				"invalid",
				"invalid_argument\tabc"
			],
			[
				"inval",
				"invalid_argument\tabc"
			],
			[
				"getTag",
				"getTagName\t(Tag.cpp)"
			],
			[
				"sani",
				"sanitizedTag\tabc"
			],
			[
				"foundT",
				"foundTags\tabc"
			],
			[
				"line",
				"lineBuffer\tabc"
			],
			[
				"dep",
				"depth\tabc"
			],
			[
				"wave",
				"waveAmplitude\tabc"
			],
			[
				"moved",
				"movedLatLong\tabc"
			],
			[
				"getL",
				"getLongitude\tabc"
			],
			[
				"Qu",
				"QuakeDataSegment\tabc"
			],
			[
				"Quake",
				"QuakeDataSegment\tabc"
			],
			[
				"length",
				"lengthOfQuake\tabc"
			],
			[
				"data",
				"dataSegment\tabc"
			],
			[
				"long",
				"longitude\tabc"
			],
			[
				"lat",
				"latitude\tabc"
			],
			[
				"subA",
				"subArrayCol\tabc"
			],
			[
				"sub",
				"subArrayRow\tabc"
			],
			[
				"mon",
				"monsters\tabc"
			],
			[
				"boardS",
				"boardSearchRow\tabc"
			],
			[
				"STATUS_",
				"STATUS_TREASURE\t(logic.h)"
			],
			[
				"next",
				"nextRow\tabc"
			],
			[
				"nex",
				"nextCol\tabc"
			],
			[
				"TILE_",
				"TILE_OPEN\tabc"
			],
			[
				"STAT",
				"STATUS_STAY\tabc"
			],
			[
				"ne",
				"nextCol\tabc"
			],
			[
				"TILE_P",
				"TILE_PILLAR\tabc"
			],
			[
				"origin",
				"originalMaxRow\tabc"
			],
			[
				"delete",
				"deleteMap\tabc"
			],
			[
				"ori",
				"originalMaxRow\tabc"
			],
			[
				"newMons",
				"newMonsterCol\tabc"
			],
			[
				"newMonster",
				"newMonsterCol\tabc"
			],
			[
				"newMonst",
				"newMonsterRow\tabc"
			],
			[
				"digit",
				"digitFollowsDecimal\tabc"
			],
			[
				"digi",
				"digitFollowDecimal\tabc"
			],
			[
				"decimal",
				"decimalCount\tabc"
			],
			[
				"numb",
				"numberCount\tabc"
			],
			[
				"dec",
				"decimalCount\tabc"
			],
			[
				"last",
				"lastItrSmallest\tabc"
			],
			[
				"sma",
				"smallest\tabc"
			],
			[
				"get",
				"getline\tabc"
			],
			[
				"countr",
				"countryArray\tabc"
			],
			[
				"num",
				"numberArray\tabc"
			],
			[
				"prep_",
				"prep_unsigned_int_array\t(parallel_tracks.cpp)"
			],
			[
				"time",
				"timeArray\tabc"
			],
			[
				"prep",
				"prep_float_array\t(parallel_tracks.cpp)"
			],
			[
				"smallest",
				"smallestIndex\tabc"
			],
			[
				"small",
				"smallestIndex\tabc"
			],
			[
				"timeA",
				"timeArrayElement\tabc"
			],
			[
				"carr",
				"carryIn\tabc"
			],
			[
				"smaller",
				"smallerString\tabc"
			],
			[
				"partial",
				"partialProduct\tabc"
			],
			[
				"cum",
				"cumulativeSum\tabc"
			],
			[
				"part",
				"partialProduct\tabc"
			],
			[
				"carry",
				"carryIn\tabc"
			],
			[
				"larger",
				"largerString\tabc"
			],
			[
				"larg",
				"largerString\tabc"
			],
			[
				"multi",
				"multiply\t(string_calculator.h)"
			],
			[
				"new",
				"newString\tabc"
			],
			[
				"leading",
				"leadingZeroes\tabc"
			],
			[
				"max",
				"maxNumberLength\tabc"
			],
			[
				"diig",
				"digitSum\tabc"
			],
			[
				"decima",
				"decimal_to_digit\tabc"
			],
			[
				"result",
				"resultantString\tabc"
			],
			[
				"di",
				"digitSum\tabc"
			],
			[
				"reo",
				"resourceType\tabc"
			],
			[
				"count",
				"count_valid_mv_numbers\t(functions.h)"
			],
			[
				"fina",
				"final_exam_total\tabc"
			],
			[
				"exam",
				"exam_average\tabc"
			],
			[
				"exam_to",
				"final_exam_total"
			],
			[
				"engag",
				"engagement_total\tabc"
			],
			[
				"final",
				"final_letter_grade\tabc"
			],
			[
				"weighted",
				"weighted_total\tabc"
			],
			[
				"en",
				"engagement\tabc"
			],
			[
				"TERRAIN",
				"TERRAIN_MASK_WALL\tconst"
			],
			[
				"roo",
				"rooms\tproperty"
			],
			[
				"Feed",
				"FeedHeader\tabc"
			],
			[
				"USERT_",
				"USER_AUTH_TOKEN_FAILED\tabc"
			]
		]
	},
	"buffers":
	[
		{
			"file": "GameWrapper.py",
			"settings":
			{
				"buffer_size": 50031,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAALwwAAaW1wb3J0IGNQcm9maWxlCmltcG9ydCBwc3RhdHMKZnJvbSBwc3RhdHMgaW1wb3J0IFNvcnRLZXkKCmZyb20gcHljYXRhbiBpbXBvcnQgR2FtZQpmcm9tIHB5Y2F0YW4gaW1wb3J0IFN0YXR1c2VzCmZyb20gcHljYXRhbiBpbXBvcnQgQnVpbGRpbmcKZnJvbSBweWNhdGFuLmNhcmQgaW1wb3J0IFJlc0NhcmQsIERldkNhcmQKZnJvbSBib2FyZF9yZW5kZXJlciBpbXBvcnQgQm9hcmRSZW5kZXJlcgpmcm9tIGFnZW50IGltcG9ydCBBZ2VudApmcm9tIHJhbmRvbV9hZ2VudCBpbXBvcnQgUmFuZG9tQWdlbnQKaW1wb3J0IHJhbmRvbQoKY29sb3JzID0gWydSZWQnLCAnQ3lhbicsICdHcmVlbicsICdZZWxsb3cnXQoKYWN0aW9uX3R5cGVzID0gWyJub19vcCIsICJyb2xsIiwgInB1cmNoYXNlX3Jlc291cmNlIiwgInB1cmNoYXNlX2FuZF9wbGF5X2J1aWxkaW5nIiwgInB1cmNoYXNlX2Rldl9jYXJkIiwgInBsYXlfZGV2X2NhcmQiLCAicGxheV9yb2JiZXIiLCAic3RhcnRfdHJhZGUiLCAiYWNjZXB0X3RyYWRlIiwgImRlbnlfdHJhZGUiLCAiZm9yZmVpdF9jYXJkcyIsICJlbmRfdHVybiIsICJpbml0aWFsX3BsYWNlbWVudF9yb2FkIiwgImluaXRpYWxfcGxhY2VtZW50X2J1aWxkaW5nIiwgInBsYWNlX3JvYWQiXQpOT19PUCA9IDAKUk9MTCA9IDEKUFVSQ0hBU0VfUkVTT1VSQ0UgPSAyClBVUkNIQVNFX0FORF9QTEFZX0JVSUxESU5HID0gMwpQVVJDSEFTRV9ERVZfQ0FSRCA9IDQKUExBWV9ERVZfQ0FSRCA9IDUKUExBWV9ST0JCRVIgPSA2ClNUQVJUX1RSQURFID0gNwpBQ0NFUFRfVFJBREUgPSA4CkRFTllfVFJBREUgPSA5CkZPUkZFSVRfQ0FSRFMgPSAxMApFTkRfVFVSTiA9IDExCklOSVRJQUxfUExBQ0VfUk9BRCA9IDEyCklOSVRJQUxfUExBQ0VfQlVJTERJTkcgPSAxMwpQTEFDRV9ST0FEID0gMTQKCmRlZiBwcmludEJsYW5rTGluZXMobnVtKToKICAgICAgICBmb3IgaSBpbiByYW5nZSgwLCBudW0pOgogICAgICAgICAgICAgICAgcHJpbnQoKQoKCmNsYXNzIEdhbWVXcmFwcGVyOgogICAgZGVmIF9faW5pdF9fKHNlbGYpOgogICAgICAgIHNlbGYubnVtX29mX3BsYXllcnMgPSAwCiAgICAgICAgc2VsZi5nYW1lID0gTm9uZQogICAgICAgIHNlbGYuYm9hcmRSZW5kZXJlciA9IE5vbmUKICAgICAgICBzZWxmLmFnZW50cyA9IFtdCgogICAgICAgIHNlbGYudHVybl9jb3VudGVyCgogICAgZGVmIHNldHVwKHNlbGYpOgogICAgICAgICMgR2FtZSBTZXQtdXAgcXVlc3Rpb25zCiAgICAgICAgcHJpbnQoJ01hbnVhbCBNb2RlICh5L24pJykKICAgICAgICAjbWFudWFsX21vZGUgPSBpbnB1dCgpCiAgICAgICAgCiAgICAgICAgI3ByaW50KCdOdW1iZXIgb2YgcGxheWVycyAoMi00KScpCiAgICAgICAgIyBNaWdodCBqdXN0IGNhcCB0aGlzIGF0IDQgZm9yIHRyYWluaW5nCiAgICAgICAgIyBudW1fcGxheWVycyA9IGludChpbnB1dCgpKQogICAgICAgIAogICAgICAgIG51bV9wbGF5ZXJzID0gNAogICAgICAgIGdhbWUgPSBHYW1lKG51bV9wbGF5ZXJzKQogICAgICAgIHNlbGYuZ2FtZSA9IGdhbWUKICAgICAgICBzZWxmLmJvYXJkUmVuZGVyZXIgPSBCb2FyZFJlbmRlcmVyKGdhbWUuYm9hcmQsIFs1MCwgMTBdKQogICAgICAgIAogICAgICAgICMgT3RoZXIgc3R1ZmYgaGVyZSAgCiAgICAgICAgIyBNYXliZSBhIG1hbnVhbCBib2FyZCBpbnB1dCwgYnV0IHRoYXRzIHNvdW5kcyBsYW1lIHJuCiAgICAgICAgcHJpbnQoJ1ByaW50IE1vZGU/ICh5L24pJykKICAgICAgICByZXNwb25zZSA9IGlucHV0KCkKCiAgICAgICAgc2VsZi5wcmludF9tb2RlID0gRmFsc2UKCiAgICAgICAgaWYocmVzcG9uc2UubG93ZXIoKSA9PSAneScpOgogICAgICAgICAgICAgICAgc2VsZi5wcmludF9tb2RlID0gVHJ1ZQoKCgogICAgICAgICMgSW5pdAogICAgICAgIGRlYnVnID0gVHJ1ZQogICAgICAgIGlmIGRlYnVnOgogICAgICAgICAgICAgICAgIyBzZWxmLmdhbWUuYWRkX3NldHRsZW1lbnQocGxheWVyPTAsIHBvaW50PXNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbMF1bMF0sIGlzX3N0YXJ0aW5nPVRydWUpICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIyBzZWxmLmdhbWUuYWRkX3NldHRsZW1lbnQocGxheWVyPTAsIHBvaW50PXNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbMV1bMl0sIGlzX3N0YXJ0aW5nPVRydWUpCiAgICAgICAgICAgICAgICAjIHNlbGYuZ2FtZS5hZGRfc2V0dGxlbWVudChwbGF5ZXI9MSwgcG9pbnQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1szXVszXSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9zZXR0bGVtZW50KHBsYXllcj0xLCBwb2ludD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzJdWzZdLCBpc19zdGFydGluZz1UcnVlKQogICAgICAgICAgICAgICAgIyBzZWxmLmdhbWUuYWRkX3NldHRsZW1lbnQocGxheWVyPTIsIHBvaW50PXNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbNF1bM10sIGlzX3N0YXJ0aW5nPVRydWUpCiAgICAgICAgICAgICAgICAjIHNlbGYuZ2FtZS5hZGRfc2V0dGxlbWVudChwbGF5ZXI9MiwgcG9pbnQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1szXVs4XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9zZXR0bGVtZW50KHBsYXllcj0zLCBwb2ludD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzRdWzZdLCBpc19zdGFydGluZz1UcnVlKQogICAgICAgICAgICAgICAgIyBzZWxmLmdhbWUuYWRkX3NldHRsZW1lbnQocGxheWVyPTMsIHBvaW50PXNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbMV1bNl0sIGlzX3N0YXJ0aW5nPVRydWUpCiAgICAgICAgICAgICAgICAjICMgQWRkIHNvbWUgcm9hZHMKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0wLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzBdWzBdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1swXVsxXSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0wLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzFdWzJdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1sxXVszXSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0wLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzFdWzNdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1sxXVs0XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0wLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzFdWzJdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1sxXVsxXSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0wLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzFdWzFdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1swXVswXSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0xLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzNdWzNdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1szXVsyXSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0xLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzJdWzZdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1syXVs1XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0yLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzRdWzNdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1s0XVs0XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0yLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzNdWzhdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1szXVs3XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0zLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzRdWzZdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1s0XVs1XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLmFkZF9yb2FkKHBsYXllcj0zLCBzdGFydD1zZWxmLmdhbWUuYm9hcmQucG9pbnRzWzFdWzZdLCBlbmQ9c2VsZi5nYW1lLmJvYXJkLnBvaW50c1sxXVs3XSwgaXNfc3RhcnRpbmc9VHJ1ZSkKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc2VsZi5nYW1lLnBsYXllcnNbMF0uYWRkX2Rldl9jYXJkKERldkNhcmQuS25pZ2h0KQogICAgICAgICAgICAgICAgc2VsZi5nYW1lLnBsYXllcnNbMF0uYWRkX2Rldl9jYXJkKERldkNhcmQuWWVhck9mUGxlbnR5KQogICAgICAgICAgICAgICAgc2VsZi5nYW1lLnBsYXllcnNbMF0uYWRkX2Rldl9jYXJkKERldkNhcmQuTW9ub3BvbHkpCiAgICAgICAgICAgICAgICBzZWxmLmdhbWUucGxheWVyc1swXS5hZGRfZGV2X2NhcmQoRGV2Q2FyZC5Sb2FkKSAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICMgc2VsZi5nYW1lLnBsYXllcnNbMF0uYWRkX2NhcmRzKFtSZXNDYXJkLldoZWF0LCBSZXNDYXJkLk9yZSwgUmVzQ2FyZC5Xb29kLCBSZXNDYXJkLkJyaWNrLCBSZXNDYXJkLlNoZWVwXSkKCiAgICAgICAgICAgICAgICAjIHNlbGYuZ2FtZS5wbGF5ZXJzWzBdLmFkZF9jYXJkcyhbUmVzQ2FyZC5PcmUsIFJlc0NhcmQuT3JlLCBSZXNDYXJkLk9yZSwgUmVzQ2FyZC5XaGVhdCwgUmVzQ2FyZC5XaGVhdCwgUmVzQ2FyZC5XaGVhdF0pICAgCiAgICAgICAgICAgICAgICAjIHNlbGYuZ2FtZS5wbGF5ZXJzWzBdLmFkZF9jYXJkcyhbUmVzQ2FyZC5PcmUsIFJlc0NhcmQuT3JlLCBSZXNDYXJkLk9yZSwgUmVzQ2FyZC5XaGVhdCwgUmVzQ2FyZC5XaGVhdCwgUmVzQ2FyZC5XaGVhdF0pICAgCgogICAgICAgICAgICAgICAgIyBzZWxmLmdhbWUuYm9hcmQudXBncmFkZV9zZXR0bGVtZW50KDAsIHNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbMV1bMl0pCgogICAgICAgICMgV3JhcCBwbGF5ZXJzIGludG8gYWdlbnRzCiAgICAgICAgCiAgICAgICAgZm9yIHBsYXllciBpbiBzZWxmLmdhbWUucGxheWVyczoKICAgICAgICAgICAgICAgIGlmIGRlYnVnOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnUGxheWVyICcgKyBzdHIocGxheWVyLm51bSkgKyAnIGh1bWFuPyAoeS9uKScpCiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2h1bWFuID0gaW5wdXQoKQogICAgICAgICAgICAgICAgICAgICAgICBpZihpc19odW1hbiA9PSAneScpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWdlbnRzLmFwcGVuZChBZ2VudChwbGF5ZXIsIFRydWUsIFtdKSkKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFnZW50cy5hcHBlbmQoUmFuZG9tQWdlbnQocGxheWVyKSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYWdlbnRzLmFwcGVuZChBZ2VudChwbGF5ZXIsIFRydWUsIFtdKSkKCiAgICAgICAgIyBEZXRlcm1pbmUgc3RhcnRpbmcgb3JkZXIgZm9yIGluaXRpYWwgcGxhY2VtZW50cwogICAgICAgICMgUGljayBhIHJhbmRvbSBwbGF5ZXIgdGhlbiBnbyBpbiBzbmFrZSBvcmRlcgogICAgICAgIGNob3Nlbl9wbGF5ZXIgPSBwbGF5ZXJfaW5kZXggPSByYW5kb20ucmFuZGludCgwLCAzKQoKICAgICAgICAjIFN0YXJ0aW5nIHBsYWNlbWVudHMKICAgICAgICAjIDggdG90YWwgdHVybnMsIDIgcGxhY2VtZW50cyBwZXIgcGxheWVyCiAgICAgICAgIyBTbmFrZSBtZWFuczogMCwgMSwgMiwgMywgMywgMiwgMSwgMAoKICAgICAgICBzdGFydGluZ19wbGF5X29yZGVyID0gW10KICAgICAgICBzd2l0Y2ggPSBGYWxzZQogICAgICAgIGZvciBpIGluIHJhbmdlKDAsIDgpOgogICAgICAgICAgICAgICAgc3RhcnRpbmdfcGxheV9vcmRlci5hcHBlbmQocGxheWVyX2luZGV4KQoKICAgICAgICAgICAgICAgIGlmKG5vdCBpID09IDMpOgogICAgICAgICAgICAgICAgICAgICAgICBpZihub3Qgc3dpdGNoKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwbGF5ZXJfaW5kZXggPT0gMyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJfaW5kZXggPSAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcl9pbmRleCArPSAxCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyX2luZGV4ID09IDApOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2luZGV4ID0gMwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJfaW5kZXggLT0gMQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoID0gVHJ1ZQoKICAgICAgICBwcmludCgnU3RhcnRpbmcgcGxheSBvcmRlcjogJykKICAgICAgICBwcmludChzdGFydGluZ19wbGF5X29yZGVyKQogICAgICAgIHBsYWNlbWVudF9va2F5ID0gRmFsc2UKCiAgICAgICAgc2VsZi5nYW1lLmluaXRpYWxfcGxhY2VtZW50X21vZGUgPSBUcnVlCgogICAgICAgICMjIFRPRE8KICAgICAgICAjIFRoaXMgaXMgbm90IGRlYnVnCiAgICAgICAgCgogICAgICAgIGZvciBwbGF5ZXJfaW5kZXggaW4gc3RhcnRpbmdfcGxheV9vcmRlcjoKICAgICAgICAgICAgICAgIENhdGFuR2FtZS5kaXNwbGF5Qm9hcmQoKQogICAgICAgICAgICAgICAgcHJpbnRCbGFua0xpbmVzKDgpCiAgICAgICAgICAgICAgICBwcmludCgnUGxheWVyIHdpdGggdHVybjogJyArIGNvbG9yc1twbGF5ZXJfaW5kZXhdKQogICAgICAgICAgICAgICAgY3Vycl9hZ2VudCA9IHNlbGYuYWdlbnRzW3BsYXllcl9pbmRleF0KICAgICAgICAgICAgICAgIGN1cnJfcGxheWVyID0gcGxheWVyX3dpdGhfdHVybiA9IGN1cnJfYWdlbnQucGxheWVyCgogICAgICAgICAgICAgICAgY3Vycl9wbGF5ZXIuaGFzX2NvbXBsZXRlZF9pbml0aWFsX3BsYWNlbWVudCA9IEZhbHNlCiAgICAgICAgICAgICAgICBjdXJyX3BsYXllci5oYXNfcGxhY2VkX2luaXRpYWxfc2V0dGxlbWVudCA9IEZhbHNlCgogICAgICAgICAgICAgICAgIyBUd28gaXRlcmF0aW9ucyBmb3Igc2V0dGxlbWVudCBhbmQgcm9hZAogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UoMCwgMik6CiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93ZWRfYWN0aW9ucyA9IENhdGFuR2FtZS5nZXRBbGxvd2VkQWN0aW9ucyhjdXJyX3BsYXllciwgcGxheWVyX3dpdGhfdHVybikKICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50X29rYXkgPSBGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShub3QgcGxhY2VtZW50X29rYXkpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1cnJfYWdlbnQuaHVtYW4pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbiA9IENhdGFuR2FtZS5wcm9tcHRBY3Rpb25zKGN1cnJfcGxheWVyLCBhbGxvd2VkX2FjdGlvbnMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24gPSBjdXJyX2FnZW50LmRvVHVybihhbGxvd2VkX2FjdGlvbnMpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IENhdGFuR2FtZS5kb0FjdGlvbihjdXJyX3BsYXllciwgZnVsbF9hY3Rpb24pCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0YXR1cyA9PSBTdGF0dXNlcy5BTExfR09PRCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudF9va2F5ID0gVHJ1ZQoKCiAgICAgICAgc2VsZi5nYW1lLmluaXRpYWxfcGxhY2VtZW50X21vZGUgPSBGYWxzZQoKICAgICAgICAjIEFkZCBpbml0aWFsIHBsYWNlbWVudCB5aWVsZAogICAgICAgICMgKFRoaXMgbWlnaHQgYmUgdGhlIHdyb25nIHdheSB0byBkbyBpdCkKICAgICAgICBmb3IgaSBpbiByYW5nZSgyLCAxMyk6CiAgICAgICAgICAgICAgICBpZiBpICE9IDc6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2FtZS5ib2FyZC5hZGRfeWllbGQoaSkKCiAgICAgICAgcGxheWVyX2luZGV4ID0gY2hvc2VuX3BsYXllcgoKICAgICAgICBzZWxmLnJ1bihwbGF5ZXJfaW5kZXgpCgogICAgZGVmIHJ1bihzZWxmLCBwbGF5ZXJfaW5kZXgpOgogICAgICAgICMgR2FtZSBMb29wCiAgICAgICAgIyBDeWNsZSBvdmVyIGFsbCBwbGF5ZXJzIHBlciB0dXJuIHN0ZXBzIHRvIGFsbG93IGZvciByZXNwb25zZXMgdG8gdHJhZGVzCiAgICAgICAgdHVybl9jb3VudGVyID0gMAogICAgICAgIGdhbWVfb3ZlciA9IEZhbHNlCiAgICAgICAgdHVybl9vdmVyID0gRmFsc2UKICAgICAgICBjeWNsZV9jb21wbGV0ZSA9IEZhbHNlICAgICAgICAKICAgICAgICB3aGlsZShub3Qgc2VsZi5nYW1lLmhhc19lbmRlZCk6CiAgICAgICAgICAgICAgICAjIFJlc2V0IHJvbGwKICAgICAgICAgICAgICAgIHNlbGYuZ2FtZS5jYW5fcm9sbCA9IFRydWUKCiAgICAgICAgICAgICAgICAjIEl0ZXJhdGUgdG8gbmV4dCBwbGF5ZXIgd2l0aCB0dXJuCiAgICAgICAgICAgICAgICBjdXJyX2FnZW50ID0gc2VsZi5hZ2VudHNbcGxheWVyX2luZGV4XQogICAgICAgICAgICAgICAgcGxheWVyX3dpdGhfdHVybiA9IGN1cnJfcGxheWVyID0gY3Vycl9hZ2VudC5wbGF5ZXIKICAgICAgICAgICAgICAgIHBsYXllcl93aXRoX3R1cm5faW5kZXggPSBwbGF5ZXJfaW5kZXgKICAgICAgICAgICAgICAgIHBsYXllcl93aXRoX3R1cm4udHVybl9vdmVyID0gdHVybl9vdmVyID0gRmFsc2UKCiAgICAgICAgICAgICAgICAjIFJlc2V0IG51bWJlciBvZiB0cmFkZXMgdGhlIHBsYXllciBoYXMgY29uZHVjdGVkCiAgICAgICAgICAgICAgICBwbGF5ZXJfd2l0aF90dXJuLm51bV90cmFkZXNfaW5fdHVybiA9IDAKCiAgICAgICAgICAgICAgICAjIEN5Y2xlLCBzdGFydGluZyB3aXRoIHRoZSBwbGF5ZXIgcGxheWluZyB0aGVpciB0dXJuLCB0aHJvdWdoIGFsbCBvdGhlciBwbGF5ZXJzCiAgICAgICAgICAgICAgICB3aGlsZShub3QgdHVybl9vdmVyKToKICAgICAgICAgICAgICAgICAgICAgICAgY3Vycl9hZ2VudCA9IHNlbGYuYWdlbnRzW3BsYXllcl9pbmRleF0KICAgICAgICAgICAgICAgICAgICAgICAgY3Vycl9wbGF5ZXIgPSBjdXJyX2FnZW50LnBsYXllciAKICAgICAgICAgICAgICAgICAgICAgICAgIyBhbGxvd2VkX2FjdGlvbnMgPSBDYXRhbkdhbWUuZ2V0QWxsb3dlZEFjdGlvbnMocGxheWVyLCBwbGF5ZXJfd2l0aF90dXJuKQogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgIyBDaGVjayBpZiB0aGUgYWN0aW9uIHRha2VuIGlzIHZhbGlkIAogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25fb2theSA9IEZhbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKG5vdCBhY3Rpb25fb2theSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxvd2VkX2FjdGlvbnMgPSBDYXRhbkdhbWUuZ2V0QWxsb3dlZEFjdGlvbnMoY3Vycl9wbGF5ZXIsIHBsYXllcl93aXRoX3R1cm4pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBJZiB0aGUgcGxheWVyIG9ubHkgaGFzIG9uZSBhdmFpbGFibGUgYWN0aW9uLCBhbmQgdGhhdCBhY3Rpb24gaXMgTk9fT1AKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIFNraXAgdGhlaXIgc3RlcAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxlbihhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddKSA9PSAxIGFuZCAoTk9fT1AgaW4gYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXSkpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uX29rYXkgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGYucHJpbnRfbW9kZSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgRGlzcGxheSB0dXJuIHJlbGV2YW50IGluZm8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0YW5HYW1lLmRpc3BsYXlCb2FyZCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdUdXJuOiAnICsgc3RyKHR1cm5fY291bnRlcikpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdQbGF5ZXIgd2l0aCB0dXJuOiAnICsgY29sb3JzW3BsYXllcl93aXRoX3R1cm5faW5kZXhdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnUm9sbDogJyArIHN0cihzZWxmLmdhbWUubGFzdF9yb2xsKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxmLmdhbWUubGFyZ2VzdF9hcm15ICE9IE5vbmUpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdMYXJnZXN0IEFybXk6ICcgKyBjb2xvcnNbc2VsZi5nYW1lLmxhcmdlc3RfYXJteV0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ0xhcmdlc3QgQXJteTogTm9uZScpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxmLmdhbWUubG9uZ2VzdF9yb2FkX293bmVyICE9IE5vbmUpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdMb25nZXN0IFJvYWQ6ICcgKyBjb2xvcnNbc2VsZi5nYW1lLmxvbmdlc3Rfcm9hZF9vd25lcl0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ0xvbmdlc3QgUm9hZDogTm9uZScpCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgRGlzcGxheSBwbGF5ZXIgcmVsZXZhbnQgaW5mbwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRhbkdhbWUuZGlzcGxheVBsYXllckdhbWVJbmZvKGN1cnJfcGxheWVyKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGN1cnJfYWdlbnQuaHVtYW4pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbiA9IENhdGFuR2FtZS5wcm9tcHRBY3Rpb25zKGN1cnJfcGxheWVyLCBhbGxvd2VkX2FjdGlvbnMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbiA9IGN1cnJfYWdlbnQuZG9UdXJuKGFsbG93ZWRfYWN0aW9ucykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5wcmludF9tb2RlKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZnVsbF9hY3Rpb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGFjdGlvbl90eXBlc1tmdWxsX2FjdGlvblswXV0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9IENhdGFuR2FtZS5kb0FjdGlvbihjdXJyX3BsYXllciwgZnVsbF9hY3Rpb24pCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5nYW1lLnNldF9sb25nZXN0X3JvYWQoKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHN0YXR1cyA9PSBTdGF0dXNlcy5BTExfR09PRDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uX29rYXkgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIHN0YXR1cyA9PSBTdGF0dXNlcy5ST0xMRURfU0VWRU46CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2FtZS5yb2xsZWRfc2V2ZW4gPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2FtZS5yb2JiZXJfbW92ZWQgPSBGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgcCBpbiBzZWxmLmdhbWUucGxheWVyczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihsZW4ocC5jYXJkcykgPj0gOCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmZvcmZlaXRlZF9jYXJkc19sZWZ0ID0gaW50KGxlbihwLmNhcmRzKS8yKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZi5wcmludF9tb2RlKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnRXJyb3I6ICcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoU3RhdHVzZXMuc3RhdHVzX2xpc3RbaW50KHN0YXR1cyldKQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgSWYgdGhlIHBsYXllciBzdGlsbCBoYXMgY2FyZHMgdG8gZm9yZmVpdCwgc3RheSBvbiB0aGlzIHBsYXllcgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3Vycl9wbGF5ZXIuZm9yZmVpdGVkX2NhcmRzX2xlZnQgPiAwKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uX29rYXkgPSBGYWxzZQoKICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyX3dpdGhfdHVybi5nZXRfVlAoVHJ1ZSkgPj0gMTApOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2FtZS5oYXNfZW5kZWQgPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5nYW1lLndpbm5lciA9IHBsYXllcl93aXRoX3R1cm4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJfd2l0aF90dXJuLnR1cm5fb3ZlciA9IFRydWUKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgRGlzcGxheSB0dXJuIHJlbGV2YW50IGluZm8KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRhbkdhbWUuZGlzcGxheUJvYXJkKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnVHVybjogJyArIHN0cih0dXJuX2NvdW50ZXIpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdQbGF5ZXIgd2l0aCB0dXJuOiAnICsgY29sb3JzW3BsYXllcl93aXRoX3R1cm5faW5kZXhdKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdSb2xsOiAnICsgc3RyKHNlbGYuZ2FtZS5sYXN0X3JvbGwpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCkKCiAgICAgICAgICAgICAgICAgICAgICAgIHR1cm5fb3ZlciA9IHBsYXllcl93aXRoX3R1cm4udHVybl9vdmVyIAogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWUucm9sbGVkX3NldmVuID0gRmFsc2UKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vdCB0dXJuX292ZXIpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgMiAtPiAzIC0+IDAgLT4gMSAtPiAyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocGxheWVyX2luZGV4ID09IDMpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2luZGV4ID0gMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXJfaW5kZXggKz0gMQoKCgogICAgICAgICAgICAgICAgIyBUdXJuIGhhcyBlbmRlZAogICAgICAgICAgICAgICAgcGxheWVyX2luZGV4ID0gcGxheWVyX3dpdGhfdHVybl9pbmRleAogICAgICAgICAgICAgICAgdHVybl9jb3VudGVyICs9IDEKCgogICAgICAgICAgICAgICAgIyAyIC0+IDMgLT4gMCAtPiAxIC0+IDIKICAgICAgICAgICAgICAgIGlmKHBsYXllcl9pbmRleCA9PSAzKToKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2luZGV4ID0gMAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX2luZGV4ICs9IDEKCiAgICAgICAgcHJpbnQoJ1dpbm5lcjogJyArIHN0cihjb2xvcnNbc2VsZi5nYW1lLndpbm5lci5udW1dKSkKCiAgICAjIEdldCBhbGxvd2VkIGFjdGlvbnMKICAgIGRlZiBnZXRBbGxvd2VkQWN0aW9ucyhzZWxmLCBwbGF5ZXIsIHBsYXllcl93aXRoX3R1cm4pOgogICAgICAgIGFjdGlvbnMgPSB7CiAgICAgICAgJ2FsbG93ZWRfYWN0aW9ucyc6IFtdLAogICAgICAgICdhbGxvd2VkX2ZvcmZlaXRfY2FyZHMnOiBbXSwKICAgICAgICAnYWxsb3dlZF9iYW5rX3RyYWRlX2NhcmRzJzogW10sCiAgICAgICAgJ2FsbG93ZWRfZGV2X2NhcmRzJzogW10sCiAgICAgICAgJ2FsbG93ZWRfYnVpbGRpbmdzJzogW10sCiAgICAgICAgJ2FsbG93ZWRfcm9iYmVyX3RpbGVzJzogW10sCiAgICAgICAgJ2FsbG93ZWRfcm9hZF9wb2ludF9wYWlycyc6IFtdLAogICAgICAgICdhbGxvd2VkX2ludGlhbF9zZXR0bGVtZW50X3BvaW50cyc6IFtdLCAKICAgICAgICAnYWxsb3dlZF9zZXR0bGVtZW50X3BvaW50cyc6IFtdLCAKICAgICAgICAnYWxsb3dlZF9jaXR5X3BvaW50cyc6IFtdLAogICAgICAgICdhbGxvd2VkX3ZpY3RpbV9wbGF5ZXJzJzogW10sCiAgICAgICAgJ2FsbG93ZWRfdHJhZGVfcGFpcnMnOiBbXSwKICAgICAgICAnYWxsb3dlZF90cmFkZV9wYXJ0bmVycyc6IFtdLAogICAgICAgICdhbGxvd2VkX3RyYWRlX2ZvcmZlaXRfY2FyZHMnOiBbXSwKICAgICAgICAnYWxsb3dlZF90cmFkZV9wYXJ0bmVyX2ZvcmZlaXRfY2FyZHMnOiBbXQogICAgICAgIH0KCiAgICAgICAgaXNfcGxheWVyc190dXJuID0gKHBsYXllci5udW0gPT0gcGxheWVyX3dpdGhfdHVybi5udW0pCgogICAgICAgICMjIE5PX09QCiAgICAgICAgIyAtIEl0IGlzIG5vdCB0aGUgcGxheWVyJ3MgdHVybgogICAgICAgICMgLSBUaGVyZSBhcmUgbm8gcGVuZGluZyB0cmFkZXMKICAgICAgICBpZihub3QgaXNfcGxheWVyc190dXJuIGFuZCBub3QgcGxheWVyLnBlbmRpbmdfdHJhZGUpOgogICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9hY3Rpb25zJ10uYXBwZW5kKE5PX09QKQogICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMKCiAgICAgICAgIyMgSU5JVElBTF9QTEFDRU1FTlQgKFByaW9yaXR5IGFjdGlvbiwgb3RoZXIgaWdub3JzKQogICAgICAgICMgLSBJdCBpcyBwbGF5ZXJzIHR1cm4KICAgICAgICAjIC0gaW5pdGlhbF9wbGFjZW1lbnRfbW9kZSBpcyB0cnVlCiAgICAgICAgaWYoaXNfcGxheWVyc190dXJuIGFuZCBzZWxmLmdhbWUuaW5pdGlhbF9wbGFjZW1lbnRfbW9kZSk6CiAgICAgICAgICAgICAgICBpZihwbGF5ZXIuaGFzX2NvbXBsZXRlZF9pbml0aWFsX3BsYWNlbWVudCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChFTkRfVFVSTikKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMKICAgICAgICAgICAgICAgIGlmKHBsYXllci5udW1faW5pdGlhbF9zZXR0bGVtZW50cyA+IDAgYW5kIG5vdCBwbGF5ZXIuaGFzX3BsYWNlZF9pbml0aWFsX3NldHRsZW1lbnQpOgogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXS5hcHBlbmQoSU5JVElBTF9QTEFDRV9CVUlMRElORykKICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9zZXR0bGVtZW50X3BvaW50cyddID0gcGxheWVyLmdldF9hdmFpbGFibGVfaW5pdGlhbF9zZXR0bGVtZW50X3BvaW50cygpCiAgICAgICAgICAgICAgICBpZihwbGF5ZXIubnVtX2luaXRpYWxfcm9hZHMgPiAwIGFuZCBwbGF5ZXIuaGFzX3BsYWNlZF9pbml0aWFsX3NldHRsZW1lbnQpOgogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXS5hcHBlbmQoSU5JVElBTF9QTEFDRV9ST0FEKQogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX3JvYWRfcG9pbnRfcGFpcnMnXSA9IHBsYXllci5nZXRfYXZhaWxhYmxlX2luaXRpYWxfcm9hZF9wb2ludF9wYWlycygpCgogICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMKCgogICAgICAgICMjIFBMQUNFX1JPQUQgKFByaW9yaXR5IGFjdGlvbiwgb3RoZXJzIGlnbm9yZWQpCiAgICAgICAgaWYocGxheWVyLnBsYXllZF9yb2FkX2J1aWxkaW5nIGFuZCBwbGF5ZXIucm9hZHNfcmVtYWluaW5nID4gMCk6CiAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXS5hcHBlbmQoUExBQ0VfUk9BRCkKICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfcm9hZF9wb2ludF9wYWlycyddID0gcGxheWVyLmdldF9hdmFpbGFibGVfcm9hZF9wb2ludF9wYWlycygpCiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucwogICAgICAgICMjIEZPUkZFSVRfQ0FSRFMgKFByaW9yaXR5IGFjdGlvbiwgb3RoZXJzIGlnbm9yZWQpCiAgICAgICAgIyAtIEEgNyBpcyBhY3RpdmUgYW5kIHBsYXllciBoYXMgPj0gOCBjYXJkcwogICAgICAgIGlmKHBsYXllci5mb3JmZWl0ZWRfY2FyZHNfbGVmdCA+IDApOgogICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9hY3Rpb25zJ10uYXBwZW5kKEZPUkZFSVRfQ0FSRFMpCiAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2ZvcmZlaXRfY2FyZHMnXSA9IHBsYXllci5nZXRfdHlwZXNfb2ZfY2FyZHNfcG9zc2Vzc2VkKCkKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zCgogICAgICAgICMjIFBMQVlfUk9CQkVSIChQcmlvcml0eSBhY3Rpb24sIG90aGVycyBpZ25vcmVkKQogICAgICAgICMgLSBJdCBpcyB0aGUgcGxheWVycyB0dXJuCiAgICAgICAgIyAtIEEgNyBpcyBhY3RpdmUgYW5kIHJvYmJlciBoYXMgbm90IGJlZW4gbW92ZWQKICAgICAgICBpZihpc19wbGF5ZXJzX3R1cm4gYW5kIG5vdCBzZWxmLmdhbWUucm9iYmVyX21vdmVkKToKICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChQTEFZX1JPQkJFUikKICAgICAgICAgICAgICAgIHBvc3NpYmxlX3JvYmJlcl90aWxlc19hbmRfdmljdGltcyA9IHBsYXllci5nZXRfYXZhaWxhYmxlX3JvYmJlcl9wbGFjZW1lbnRfdGlsZXNfYW5kX3ZpY3RpbXMoKQogICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9yb2JiZXJfdGlsZXMnXSA9IHBvc3NpYmxlX3JvYmJlcl90aWxlc19hbmRfdmljdGltcwogICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF92aWN0aW1fcGxheWVycyddID0gcG9zc2libGVfcm9iYmVyX3RpbGVzX2FuZF92aWN0aW1zCiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9ucwoKICAgICAgICAjIyBBQ0NFUFRfVFJBREUgKFByaW9yaXR5IGFjdGlvbiwgb3RoZXJzIGlnbm9yZWQpCiAgICAgICAgIyMgREVOWV9UUkFERQogICAgICAgICMgLSBQbGF5ZXIgaGFzIGEgcGVuZGluZyB0cmFkZQogICAgICAgIGlmKHBsYXllci5wZW5kaW5nX3RyYWRlKToKICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChBQ0NFUFRfVFJBREUpCiAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXS5hcHBlbmQoREVOWV9UUkFERSkKICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpb25zCgogICAgICAgICMjIFBMQVlfREVWX0NBUkQKICAgICAgICAjIC0gSXQgaXMgdGhlIHBsYXllcnMgdHVybgogICAgICAgICMgLSBQbGF5ZXIgaGFzIGF0IGxlYXN0IG9uZSBkZXZlbG9wbWVudCBjYXJkCiAgICAgICAgaWYoaXNfcGxheWVyc190dXJuKToKICAgICAgICAgICAgICAgIHBsYXlhYmxlX2Rldl9jYXJkID0gRmFsc2UKICAgICAgICAgICAgICAgIGZvciBjYXJkIGluIERldkNhcmQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhcmQgaW4gcGxheWVyLmRldl9jYXJkcyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBDaGVjayBmb3IgcGxheWluZyBwdXJjaGFzZWQgZGV2IGNhcmQgb24gdGhlIHNhbWUgdHVybgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbWVUdXJuID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjYXJkID09IHBsYXllci5sYXN0X2JvdWdodF9kZXZfY2FyZCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihsZW4oW3ggZm9yIHggaW4gcGxheWVyLmRldl9jYXJkcyBpZiB4ID09IGNhcmRdKSA8PSAyKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtZVR1cm4gPSBUcnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobm90IHNhbWVUdXJuKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhcmQgPT0gRGV2Q2FyZC5LbmlnaHQgb3IgY2FyZCA9PSBEZXZDYXJkLlllYXJPZlBsZW50eSBvciBjYXJkID09IERldkNhcmQuTW9ub3BvbHkgb3IgY2FyZCA9PSBEZXZDYXJkLlJvYWQpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2Rldl9jYXJkcyddLmFwcGVuZChjYXJkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF5YWJsZV9kZXZfY2FyZCA9IFRydWUKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjYXJkID09IERldkNhcmQuS25pZ2h0KToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVfcm9iYmVyX3RpbGVzX2FuZF92aWN0aW1zID0gcGxheWVyLmdldF9hdmFpbGFibGVfcm9iYmVyX3BsYWNlbWVudF90aWxlc19hbmRfdmljdGltcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfcm9iYmVyX3RpbGVzJ10gPSBwb3NzaWJsZV9yb2JiZXJfdGlsZXNfYW5kX3ZpY3RpbXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF92aWN0aW1fcGxheWVycyddID0gcG9zc2libGVfcm9iYmVyX3RpbGVzX2FuZF92aWN0aW1zCiAgICAgICAgICAgICAgICBpZihwbGF5YWJsZV9kZXZfY2FyZCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChQTEFZX0RFVl9DQVJEKQoKICAgICAgICAjIyBST0xMIChQcmlvcml0eSBhY3Rpb24sIG90aGVycyAoZXhjZXB0IHBsYXkgZGV2IGNhcmQpIGlnbm9yZWQpCiAgICAgICAgIyAtIEl0IGlzIHRoZSBwbGF5ZXJzIHR1cm4KICAgICAgICAjIC0gVGhlIGRpY2UgaGFzIG5vdCBiZWVuIHJvbGxlZAogICAgICAgIGlmKGlzX3BsYXllcnNfdHVybiBhbmQgc2VsZi5nYW1lLmNhbl9yb2xsKToKICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChST0xMKQogICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbnMKCiAgICAgICAgIyMgUFVSQ0hBU0VfUkVTT1VSQ0UKICAgICAgICAjIC0gSXQgaXMgdGhlIHBsYXllcnMgdHVybgogICAgICAgICMgLSBUaGUgZGljZSBoYXMgYmVlbiByb2xsZWQKICAgICAgICAjIC0gUGxheWVyIGNhbiBleGNoYW5nZSByZXNvdXJjZQogICAgICAgIGlmKGlzX3BsYXllcnNfdHVybiBhbmQgbm90IHNlbGYuZ2FtZS5jYW5fcm9sbCk6CiAgICAgICAgICAgICAgICAjIENoZWNrIGV2ZXJ5IHJlc291cmNlIGFuZCBhcHBlbmQgdGhvc2Ugd2hpY2ggYXJlIGVsaWdhYmxlCiAgICAgICAgICAgICAgICBjYXJkcyA9IHNlbGYuZ2FtZS5jYXJkc190cmFkYWJsZV90b19iYW5rKHBsYXllcikKICAgICAgICAgICAgICAgIGlmIGNhcmRzOgogICAgICAgICAgICAgICAgICAgICAgICAjIGNhcmRfdHlwZXMgPSBbY2FyZFswXSBmb3IgY2FyZCBpbiBjYXJkc10gCiAgICAgICAgICAgICAgICAgICAgICAgICMgY2FyZF9udW1zID0gW2NhcmRbMV0gZm9yIGNhcmQgaW4gY2FyZHNdIAogICAgICAgICAgICAgICAgICAgICAgICBjYXJkX3R1cGxlcyA9IFsoY2FyZFswXSwgY2FyZFsxXSkgZm9yIGNhcmQgaW4gY2FyZHNdCiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChQVVJDSEFTRV9SRVNPVVJDRSkKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGNhcmQgaW4gY2FyZHM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9iYW5rX3RyYWRlX2NhcmRzJ10uYXBwZW5kKGNhcmQpCgoKCiAgICAgICAgICAgICAgICAjc2VsZi5nYW1lLmNhbl90cmFkZV90b19iYW5rKHBsYXllciwgY2FyZHMsIHJlcXVlc3QpCgogICAgICAgICMjIFBVUkNIQVNFX0FORF9QTEFZX0JVSUxESU5HCiAgICAgICAgIyAtIEl0IGlzIHRoZSBwbGF5ZXJzIHR1cm4KICAgICAgICAjIC0gVGhlIGRpY2UgaGFzIGJlZW4gcm9sbGVkICAgICAgICAgICAgICAgIAogICAgICAgICMgLSBQbGF5ZXIgaGFzIHJlbGV2YW50IGNhcmRzCiAgICAgICAgaWYoaXNfcGxheWVyc190dXJuIGFuZCBub3Qgc2VsZi5nYW1lLmNhbl9yb2xsKToKICAgICAgICAgICAgICAgIGF2YWlsYWJsZV9idWlsZGluZ3MgPSBwbGF5ZXIuZ2V0X2F2YWlsYWJsZV9idWlsZGluZ3MoKQoKICAgICAgICAgICAgICAgIGlmKGF2YWlsYWJsZV9idWlsZGluZ3MpOgogICAgICAgICAgICAgICAgICAgICAgICBpZihCdWlsZGluZy5CVUlMRElOR19TRVRUTEVNRU5UIGluIGF2YWlsYWJsZV9idWlsZGluZ3MpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRsZW1lbnRfcG9pbnRzID0gcGxheWVyLmdldF9hdmFpbGFibGVfc2V0dGxlbWVudF9wb2ludHMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfc2V0dGxlbWVudF9wb2ludHMnXSA9IHNldHRsZW1lbnRfcG9pbnRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2V0dGxlbWVudF9wb2ludHMpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90KEJ1aWxkaW5nLkJVSUxESU5HX1NFVFRMRU1FTlQgaW4gYWN0aW9uc1snYWxsb3dlZF9idWlsZGluZ3MnXSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChQVVJDSEFTRV9BTkRfUExBWV9CVUlMRElORykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9idWlsZGluZ3MnXS5hcHBlbmQoQnVpbGRpbmcuQlVJTERJTkdfU0VUVExFTUVOVCkKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKEJ1aWxkaW5nLkJVSUxESU5HX1JPQUQgaW4gYXZhaWxhYmxlX2J1aWxkaW5ncyk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlX3JvYWRfcGFpcnMgPSBwbGF5ZXIuZ2V0X2F2YWlsYWJsZV9yb2FkX3BvaW50X3BhaXJzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX3JvYWRfcG9pbnRfcGFpcnMnXSA9IGF2YWlsYWJsZV9yb2FkX3BhaXJzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoYXZhaWxhYmxlX3JvYWRfcGFpcnMpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbm90KEJ1aWxkaW5nLkJVSUxESU5HX1JPQUQgaW4gYWN0aW9uc1snYWxsb3dlZF9idWlsZGluZ3MnXSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdChQVVJDSEFTRV9BTkRfUExBWV9CVUlMRElORyBpbiBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXS5hcHBlbmQoUFVSQ0hBU0VfQU5EX1BMQVlfQlVJTERJTkcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYnVpbGRpbmdzJ10uYXBwZW5kKEJ1aWxkaW5nLkJVSUxESU5HX1JPQUQpCgoKICAgICAgICAgICAgICAgICAgICAgICAgaWYoQnVpbGRpbmcuQlVJTERJTkdfQ0lUWSBpbiBhdmFpbGFibGVfYnVpbGRpbmdzKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVfY2l0aWVzID0gcGxheWVyLmdldF9hdmFpbGFibGVfdXBncmFkZV9wb2ludHMoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfY2l0eV9wb2ludHMnXSA9IGF2YWlsYWJsZV9jaXRpZXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhdmFpbGFibGVfY2l0aWVzKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5vdChCdWlsZGluZy5CVUlMRElOR19DSVRZIGluIGFjdGlvbnNbJ2FsbG93ZWRfYnVpbGRpbmdzJ10pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBub3QoUFVSQ0hBU0VfQU5EX1BMQVlfQlVJTERJTkcgaW4gYWN0aW9uc1snYWxsb3dlZF9hY3Rpb25zJ10pOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9hY3Rpb25zJ10uYXBwZW5kKFBVUkNIQVNFX0FORF9QTEFZX0JVSUxESU5HKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2J1aWxkaW5ncyddLmFwcGVuZChCdWlsZGluZy5CVUlMRElOR19DSVRZKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCgoKICAgICAgICAjIyBQVVJDSEFTRV9ERVZfQ0FSRAogICAgICAgICMgLSBJdCBpcyB0aGUgcGxheWVycyB0dXJuCiAgICAgICAgIyAtIFRoZSBkaWNlIGhhcyBiZWVuIHJvbGxlZCAgICAgICAgICAgICAgICAKICAgICAgICAjIC0gUGxheWVyIGhhcyByZWxldmFudCBjYXJkcwogICAgICAgIGlmKGlzX3BsYXllcnNfdHVybiBhbmQgcGxheWVyLmNhbl9idWlsZF9kZXYoKT09U3RhdHVzZXMuQUxMX0dPT0QgYW5kIG5vdCBzZWxmLmdhbWUuY2FuX3JvbGwpOgogICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF9hY3Rpb25zJ10uYXBwZW5kKFBVUkNIQVNFX0RFVl9DQVJEKQoKCiAgICAgICAgIyMgU1RBUlRfVFJBREUKICAgICAgICAjIC0gSXQgaXMgdGhlIHBsYXllcnMgdHVybgogICAgICAgICMgLSBQbGF5ZXIgaGFzIGF0dGVtcHRlZCA0IG9yIGxlc3MgdHJhZGVzIHRoaXMgdHVybgogICAgICAgICMgLSBQbGF5ZXIgYWN0dWFsbHkgaGFzIHRoZSBjYXJkIHRoZXkgYXJlIGZvcmZlaXRpbmcKICAgICAgICAjIC0gUmVjZWl2aW5nIHBsYXllciBhY3R1YWxseSBoYXMgdGhlIGNhcmQgdGhleSBhcmUgZm9yZmVpdGluZyAKICAgICAgICBpZihpc19wbGF5ZXJzX3R1cm4gYW5kIHBsYXllci5udW1fdHJhZGVzX2luX3R1cm4gPCA0KToKICAgICAgICAKICAgICAgICAgICAgICAgIHBsYXllcl9jYXJkX3R5cGVzID0gcGxheWVyLmdldF90eXBlc19vZl9jYXJkc19wb3NzZXNzZWQoKQoKICAgICAgICAgICAgICAgIGlmKHBsYXllcl9jYXJkX3R5cGVzKToKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIG90aGVyX3BsYXllciBpbiBzZWxmLmdhbWUucGxheWVyczoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihvdGhlcl9wbGF5ZXIgPT0gcGxheWVyKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfcGFpcnMgPSBbXQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIElmIG90aGVyIHBsYXllciBoYXMgYW55IGNhcmRzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3RoZXJfcGxheWVyLmNhcmRzKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICMgSXRlcmF0ZSB0aHJvdWdoIGFsbCBjYXJkIHR5cGVzIGF2YWlsYWJsZSB0byBwbGF5ZXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBjYXJkIGluIHBsYXllcl9jYXJkX3R5cGVzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjIEdldCBhbGwgY2FyZCB0eXBlcyBhdmFpbGFibGUgdG8gb3RoZXIgcGxheWVyCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyX3BsYXllcl9mb3JmZWl0X2NhcmRzID0gb3RoZXJfcGxheWVyLmdldF90eXBlc19vZl9jYXJkc19wb3NzZXNzZWQoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBSZW1vdmUgZHVwbGljYXRlIGNhcmQgKHByZXZlbnQgdHJhZGluZyBzaGVlcCBmb3Igc2hlZXApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGNhcmQgaW4gb3RoZXJfcGxheWVyX2ZvcmZlaXRfY2FyZHM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJfcGxheWVyX2ZvcmZlaXRfY2FyZHMucmVtb3ZlKGNhcmQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyBJZiB0aGUgb3RoZXIgcGxheWVyIHN0aWxsIGhhcyBjYXJkcyB0byBmb3JmZWl0IGFmdGVyIHRoaXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob3RoZXJfcGxheWVyX2ZvcmZlaXRfY2FyZHMpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRfcGFpcnMuYXBwZW5kKChjYXJkLCBvdGhlcl9wbGF5ZXJfZm9yZmVpdF9jYXJkcykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FyZF9wYWlycyk6ICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uc1snYWxsb3dlZF90cmFkZV9wYXJ0bmVycyddLmFwcGVuZChvdGhlcl9wbGF5ZXIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX3RyYWRlX3BhaXJzJ10uYXBwZW5kKChvdGhlcl9wbGF5ZXIubnVtLCBjYXJkX3BhaXJzKSkKCiAgICAgICAgICAgICAgICBpZihsZW4oYWN0aW9uc1snYWxsb3dlZF90cmFkZV9wYXJ0bmVycyddKSA+IDApOgogICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXS5hcHBlbmQoU1RBUlRfVFJBREUpCgoKICAgICAgICAKCgogICAgICAgICMjIEVORF9UVVJOCiAgICAgICAgIyAtIEl0IGlzIHRoZSBwbGF5ZXJzIHR1cm4KICAgICAgICAjIC0gVGhlIGRpY2UgaGFzIGJlZW4gcm9sbGVkICAgICAgICAgICAgICAgIAogICAgICAgIGlmKGlzX3BsYXllcnNfdHVybiBhbmQgbm90IHNlbGYuZ2FtZS5jYW5fcm9sbCk6CiAgICAgICAgICAgIGFjdGlvbnNbJ2FsbG93ZWRfYWN0aW9ucyddLmFwcGVuZChFTkRfVFVSTikKCiAgICAgICAgcmV0dXJuIGFjdGlvbnMKCiAgICAjIEFuIGludGVyZmFjZSBmb3IgaHVtYW4gcGxheWVycyB0byBpbnRlcmFjdCB3aXRoIHRoZSBnYW1lCiAgICBkZWYgcHJvbXB0QWN0aW9ucyhzZWxmLCBwbGF5ZXIsIGFsbG93ZWRfYWN0aW9ucyk6CiAgICAgICAgcHJpbnQoJ1Bvc3NpYmxlIEFjdGlvbnMnKQogICAgICAgIAogICAgICAgICMgcHJpbnQoJzA6IE5vIE9wIHwgMTogUm9sbCB8IDI6IFB1cmNoYXNlIFJlc291cmNlIChGcm9tIEJhbmsvUG9ydCkgfCAzOiBQdXJjaGFzZSBCdWlsZGluZyB8IDQ6IFB1cmNoYXNlIERldiBDYXJkIHwgNTogUGxheSBEZXYgQ2FyZCB8XG42OiBQbGF5IFJvYmJlciB8IDc6IERvIFRyYWRlIHwgODogQWNjZXB0IFRyYWRlIHwgOTogUmVqZWN0IFRyYWRlIHwgMTA6IEZvcmZlaXQgQ2FyZHMgfCAxMTogRW5kIFR1cm4nKQogICAgICAgIGZvciBhY3Rpb24gaW4gYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX2FjdGlvbnMnXToKICAgICAgICAgICAgICAgIHByaW50KHN0cihhY3Rpb24pICsgJzogJyArIGFjdGlvbl90eXBlc1thY3Rpb25dICsgJyB8ICcsIGVuZD0nJykKICAgICAgICBwcmludCgpCgogICAgICAgIGZ1bGxfYWN0aW9uID0gW10gCgogICAgICAgIHJlc3BvbnNlID0gaW50KGlucHV0KCkpCgogICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChyZXNwb25zZSkKICAgICAgICAKICAgICAgICBwcmludChhY3Rpb25fdHlwZXNbcmVzcG9uc2VdKQogICAgICAgICMgUm9sbAogICAgICAgIGlmKHJlc3BvbnNlID09IFJPTEwpOgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgICMgUHJvbXB0IE5vIG9wCiAgICAgICAgaWYocmVzcG9uc2UgPT0gTk9fT1ApOgogICAgICAgICAgICAgICAgcHJpbnQoMSkKICAgICAgICAjIFByb21wdCBQdXJjaGFzZSBSZXNvdXJjZQogICAgICAgIGlmKHJlc3BvbnNlID09IFBVUkNIQVNFX1JFU09VUkNFKToKICAgICAgICAgICAgICAgIHByaW50KCdSZXF1ZXN0IFJlc291cmNlOicpCiAgICAgICAgICAgICAgICBwcmludCgnMDogV29vZCB8IDE6IEJyaWNrIHwgMjogT3JlIHwgMzogU2hlZXAgfCA0OiBXaGVhdCcpCiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRfcmVzb3VyY2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChyZXF1ZXN0ZWRfcmVzb3VyY2UpCiAgICAgICAgICAgICAgICBwcmludCgnRm9yZmVpdGVkIFJlc291cmNlOicpCiAgICAgICAgICAgICAgICBmb3IgYWxsb3dlZF9jYXJkIGluIGFsbG93ZWRfYWN0aW9uc1snYWxsb3dlZF9iYW5rX3RyYWRlX2NhcmRzJ106CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHN0cihhbGxvd2VkX2NhcmRbMF0udmFsdWUpICsgJzogJyArIGFsbG93ZWRfY2FyZFswXS5uYW1lICsgJygnICsgc3RyKGFsbG93ZWRfY2FyZFsxXSkgICsgJyknICsgJyB8ICcsIGVuZD0nJykKICAgICAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgICAgIGZvcmZlaXRlZF9yZXNvdXJjZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGZvcmZlaXRlZF9yZXNvdXJjZSkKICAgICAgICAjIFByb21wdCBQdXJjaGFzZSAmIHBsYXkgYnVpbGRpbmcKICAgICAgICBpZihyZXNwb25zZSA9PSBQVVJDSEFTRV9BTkRfUExBWV9CVUlMRElORyk6CiAgICAgICAgICAgICAgICBmb3IgYWxsb3dlZF9idWlsZGluZyBpbiBhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfYnVpbGRpbmdzJ106CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHN0cihhbGxvd2VkX2J1aWxkaW5nKSArICc6ICcgKyBCdWlsZGluZy5CVUlMRElOR1NbYWxsb3dlZF9idWlsZGluZ10gKyAnIHwgJywgZW5kPScnKQogICAgICAgICAgICAgICAgcHJpbnQoKQoKICAgICAgICAgICAgICAgIGJ1aWxkaW5nX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQoYnVpbGRpbmdfcmVzcG9uc2UpCgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAjIFNldHRsZW1lbnQKICAgICAgICAgICAgICAgIGlmKGJ1aWxkaW5nX3Jlc3BvbnNlID09IDApOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnQWxsb3dlZCBMb2NhdGlvbnM6IChyLCBpKScpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGFsbG93ZWRfYWN0aW9uc1snYWxsb3dlZF9zZXR0bGVtZW50X3BvaW50cyddKQoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ3I6JykKICAgICAgICAgICAgICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19yX3Jlc3BvbnNlKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnaTonKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX2lfcmVzcG9uc2UpCgogICAgICAgICAgICAgICAgIyBSb2FkCiAgICAgICAgICAgICAgICBpZihidWlsZGluZ19yZXNwb25zZSA9PSAxKToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ0FsbG93ZWQgTG9jYXRpb25zOiAociwgaSktPihyMiwgaTIpJykKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX3JvYWRfcG9pbnRfcGFpcnMnXSkKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdyOicpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY19yX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChsb2Nfcl9yZXNwb25zZSkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ2k6JykKICAgICAgICAgICAgICAgICAgICAgICAgbG9jX2lfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19pX3Jlc3BvbnNlKQoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ3IgMjonKQogICAgICAgICAgICAgICAgICAgICAgICBsb2Nfcl9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX3JfcmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdpIDI6JykKICAgICAgICAgICAgICAgICAgICAgICAgbG9jX2lfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19pX3Jlc3BvbnNlKQoKICAgICAgICAgICAgICAgICMgQ2l0eQogICAgICAgICAgICAgICAgaWYoYnVpbGRpbmdfcmVzcG9uc2UgPT0gMik6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdBbGxvd2VkIExvY2F0aW9uczogKHIsIGkpJykKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX2NpdHlfcG9pbnRzJ10pCgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgncjonKQogICAgICAgICAgICAgICAgICAgICAgICBsb2Nfcl9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX3JfcmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdpOicpCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY19pX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChsb2NfaV9yZXNwb25zZSkKCiAgICAgICAgIyBQcm9tcHQgUHVyY2hhc2UgZGV2IGNhcmQKICAgICAgICBpZihyZXNwb25zZSA9PSBQVVJDSEFTRV9ERVZfQ0FSRCk6CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgIyBQcm9tcHQgUGxheSBkZXYgY2FyZAogICAgICAgIGlmKHJlc3BvbnNlID09IFBMQVlfREVWX0NBUkQpOgogICAgICAgICAgICAgICAgZm9yIGFsbG93ZWRfY2FyZCBpbiBhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfZGV2X2NhcmRzJ106CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KHN0cihhbGxvd2VkX2NhcmQudmFsdWUpICsgJzogJyArIGFsbG93ZWRfY2FyZC5uYW1lICsgJyB8ICcsIGVuZD0nJykKICAgICAgICAgICAgICAgIHByaW50KCkKCiAgICAgICAgICAgICAgICBkZXZfY2FyZF9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGRldl9jYXJkX3Jlc3BvbnNlKQoKCiAgICAgICAgICAgICAgICBpZihkZXZfY2FyZF9yZXNwb25zZSA9PSAwKToKICAgICAgICAgICAgICAgICAgICAgICAgcGFzcwoKICAgICAgICAgICAgICAgIGlmKGRldl9jYXJkX3Jlc3BvbnNlID09IDIpOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnQWxsb3dlZCBMb2NhdGlvbnM6IChyLCBpKScpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBhY3Rpb24gaW4gYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX3JvYmJlcl90aWxlcyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJygnLCBlbmQ9JycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludChhY3Rpb25bMF0sIGVuZD0nJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcsICcsIGVuZD0nJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGNvbG9yc1thY3Rpb25bMV0ubnVtXSwgZW5kPScnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJygnICsgc3RyKGFjdGlvblsxXS5udW0pICsgJyknLCBlbmQ9JycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnKSAnLCBlbmQ9JycpIAogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoKQoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ3I6JykKICAgICAgICAgICAgICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19yX3Jlc3BvbnNlKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnaTonKQogICAgICAgICAgICAgICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX2lfcmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBhbGxvd2VkX3BsYXllcnMgPSBbeSBmb3IgeCwgeSBpbiBhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfcm9iYmVyX3RpbGVzJ10gaWYgKHgucG9zaXRpb25bMF0gPT0gbG9jX3JfcmVzcG9uc2UgYW5kIHgucG9zaXRpb25bMV0gPT0gbG9jX2lfcmVzcG9uc2UpXQoKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1BsYXllcjonKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgYWxsb3dlZF9wbGF5ZXIgaW4gYWxsb3dlZF9wbGF5ZXJzOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1BsYXllciAnICsgc3RyKGFsbG93ZWRfcGxheWVyLm51bSkgKyAnKCcgKyBjb2xvcnNbYWxsb3dlZF9wbGF5ZXIubnVtXSArICcpJyArICcgfCAnLCBlbmQ9JycpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChwbGF5ZXJfcmVzcG9uc2UpCgogICAgICAgICAgICAgICAgaWYoZGV2X2NhcmRfcmVzcG9uc2UgPT0gMyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcwOiBXb29kIHwgMTogQnJpY2sgfCAyOiBPcmUgfCAzOiBTaGVlcCB8IDQ6IFdoZWF0JykKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKHJlc291cmNlX3Jlc3BvbnNlKQoKICAgICAgICAgICAgICAgIGlmKGRldl9jYXJkX3Jlc3BvbnNlID09IDQpOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnRmlyc3QgcmVzb3VyY2U6JykKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJzA6IFdvb2QgfCAxOiBCcmljayB8IDI6IE9yZSB8IDM6IFNoZWVwIHwgNDogV2hlYXQnKQogICAgICAgICAgICAgICAgICAgICAgICBmaXJzdF9yZXNvdXJjZV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQoZmlyc3RfcmVzb3VyY2VfcmVzcG9uc2UpCgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnU2Vjb25kIHJlc291cmNlOicpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcwOiBXb29kIHwgMTogQnJpY2sgfCAyOiBPcmUgfCAzOiBTaGVlcCB8IDQ6IFdoZWF0JykKICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kX3Jlc291cmNlX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChzZWNvbmRfcmVzb3VyY2VfcmVzcG9uc2UpCgogICAgICAgICMgUHJvbXB0IFBsYXkgcm9iYmVyCiAgICAgICAgaWYocmVzcG9uc2UgPT0gUExBWV9ST0JCRVIpOgogICAgICAgICAgICBwcmludCgnQWxsb3dlZCBMb2NhdGlvbnM6IChyLCBpKScpCiAgICAgICAgICAgIGZvciBhY3Rpb24gaW4gYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX3JvYmJlcl90aWxlcyddOgogICAgICAgICAgICAgICAgcHJpbnQoJygnLCBlbmQ9JycpCiAgICAgICAgICAgICAgICBwcmludChhY3Rpb25bMF0sIGVuZD0nJykKICAgICAgICAgICAgICAgIHByaW50KCcsICcsIGVuZD0nJykKICAgICAgICAgICAgICAgIHByaW50KGNvbG9yc1thY3Rpb25bMV0ubnVtXSwgZW5kPScnKQogICAgICAgICAgICAgICAgcHJpbnQoJygnICsgc3RyKGFjdGlvblsxXS5udW0pICsgJyknLCBlbmQ9JycpCiAgICAgICAgICAgICAgICBwcmludCgnKSAnLCBlbmQ9JycpIAogICAgICAgICAgICAKICAgICAgICAgICAgcHJpbnQoKQoKICAgICAgICAgICAgcHJpbnQoJ3I6JykKICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19yX3Jlc3BvbnNlKQogICAgICAgICAgICBwcmludCgnaTonKQogICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX2lfcmVzcG9uc2UpCiAgICAgICAgICAgIAogICAgICAgICAgICBhbGxvd2VkX3BsYXllcnMgPSBbeSBmb3IgeCwgeSBpbiBhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfcm9iYmVyX3RpbGVzJ10gaWYgKHgucG9zaXRpb25bMF0gPT0gbG9jX3JfcmVzcG9uc2UgYW5kIHgucG9zaXRpb25bMV0gPT0gbG9jX2lfcmVzcG9uc2UpXQoKICAgICAgICAgICAgcHJpbnQoJ1BsYXllcjonKQogICAgICAgICAgICBmb3IgYWxsb3dlZF9wbGF5ZXIgaW4gYWxsb3dlZF9wbGF5ZXJzOgogICAgICAgICAgICAgICAgcHJpbnQoJ1BsYXllciAnICsgc3RyKGFsbG93ZWRfcGxheWVyLm51bSkgKyAnKCcgKyBjb2xvcnNbYWxsb3dlZF9wbGF5ZXIubnVtXSArICcpJyArICcgfCAnLCBlbmQ9JycpCiAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgcGxheWVyX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChwbGF5ZXJfcmVzcG9uc2UpCiAgICAgICAgIyBQcm9tcHQgRG8gdHJhZGUKICAgICAgICBpZihyZXNwb25zZSA9PSBTVEFSVF9UUkFERSk6CgogICAgICAgICAgICAgICAgZm9yIGFsbG93ZWRfcGxheWVyIGluIGFsbG93ZWRfYWN0aW9uc1snYWxsb3dlZF90cmFkZV9wYXJ0bmVycyddOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnUGxheWVyICcgKyBzdHIoYWxsb3dlZF9wbGF5ZXIubnVtKSArICcoJyArIGNvbG9yc1thbGxvd2VkX3BsYXllci5udW1dICsgJyknICsgJyB8ICcsIGVuZD0nJykKICAgICAgICAgICAgICAgIHByaW50KCkKICAgICAgICAgICAgICAgIHdoaWNoX3BsYXllcl9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKHNlbGYuZ2FtZS5wbGF5ZXJzW3doaWNoX3BsYXllcl9yZXNwb25zZV0pCiAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICBhbGxvd2VkX2NhcmRzID0gYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX3RyYWRlX3BhaXJzJ10KICAgICAgICAgICAgICAgIGFsbG93ZWRfY2FyZHMgPSBbKHgseSkgZm9yIHgsIHkgaW4gYWxsb3dlZF9jYXJkcyBpZiB4ID09IHdoaWNoX3BsYXllcl9yZXNwb25zZV1bMF1bMV0KICAgICAgICAgICAgICAgIGFsbG93ZWRfY2FyZHMgPSBbeFswXSBmb3IgeCBpbiBhbGxvd2VkX2NhcmRzXQoKCiAgICAgICAgICAgICAgICBwcmludCgnWW91IG9mZmVyOicpIAogICAgICAgICAgICAgICAgZm9yIGFsbG93ZWRfY2FyZCBpbiBhbGxvd2VkX2NhcmRzOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChzdHIoYWxsb3dlZF9jYXJkLnZhbHVlKSArICc6ICcgKyBhbGxvd2VkX2NhcmQubmFtZSArICcgfCAnLCBlbmQ9JycpCiAgICAgICAgICAgICAgICBwcmludCgpCgogICAgICAgICAgICAgICAgb2ZmZXJlZF9yZXNvdXJjZV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKFJlc0NhcmQob2ZmZXJlZF9yZXNvdXJjZV9yZXNwb25zZSkpICAKCgogICAgICAgICAgICAgICAgb3RoZXJfcGxheWVyX2FsbG93ZWRfY2FyZHMgPSBhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfdHJhZGVfcGFpcnMnXQogICAgICAgICAgICAgICAgb3RoZXJfcGxheWVyX2FsbG93ZWRfY2FyZHMgPSBbKHgseSkgZm9yIHgsIHkgaW4gb3RoZXJfcGxheWVyX2FsbG93ZWRfY2FyZHMgaWYgeCA9PSB3aGljaF9wbGF5ZXJfcmVzcG9uc2VdWzBdWzFdCiAgICAgICAgICAgICAgICBvdGhlcl9wbGF5ZXJfYWxsb3dlZF9jYXJkcyA9IFsoeCx5KSBmb3IgeCwgeSBpbiBvdGhlcl9wbGF5ZXJfYWxsb3dlZF9jYXJkcyBpZiB4LnZhbHVlID09IG9mZmVyZWRfcmVzb3VyY2VfcmVzcG9uc2VdWzBdCgogICAgICAgICAgICAgICAgcHJpbnQoJ1lvdSByZWNlaXZlOicpCiAgICAgICAgICAgICAgICBmb3IgYWxsb3dlZF9jYXJkIGluIG90aGVyX3BsYXllcl9hbGxvd2VkX2NhcmRzWzFdOgogICAgICAgICAgICAgICAgICAgICAgICBwcmludChzdHIoYWxsb3dlZF9jYXJkLnZhbHVlKSArICc6ICcgKyBhbGxvd2VkX2NhcmQubmFtZSArICcgfCAnLCBlbmQ9JycpCiAgICAgICAgICAgICAgICBwcmludCgpCiAgICAgICAgICAgICAgICByZWNlaXZlZF9yZXNvdXJjZV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKFJlc0NhcmQocmVjZWl2ZWRfcmVzb3VyY2VfcmVzcG9uc2UpKQogICAgICAgICMgQWNjZXB0IFRyYWRlCiAgICAgICAgaWYocmVzcG9uc2UgPT0gQUNDRVBUX1RSQURFKToKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAjIERlbnkgdHJhZGUKICAgICAgICBpZihyZXNwb25zZSA9PSBERU5ZX1RSQURFKToKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAjIEZvcmZlaXQgY2FyZAogICAgICAgIGlmKHJlc3BvbnNlID09IEZPUkZFSVRfQ0FSRFMpOgogICAgICAgICAgICAgICAgcHJpbnQoJ0ZvcmZlaXQoJyArIHN0cihwbGF5ZXIuZm9yZmVpdGVkX2NhcmRzX2xlZnQpICsgJyBsZWZ0KTogJykgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZvciBhbGxvd2VkX2NhcmQgaW4gYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX2ZvcmZlaXRfY2FyZHMnXToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoc3RyKGFsbG93ZWRfY2FyZC52YWx1ZSkgKyAnOiAnICsgYWxsb3dlZF9jYXJkLm5hbWUgKyAnIHwgJywgZW5kPScnKQogICAgICAgICAgICAgICAgcHJpbnQoKQoKICAgICAgICAgICAgICAgIHBsYXllcl9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKHBsYXllcl9yZXNwb25zZSkKCiAgICAgICAgaWYocmVzcG9uc2UgPT0gMTEpOgogICAgICAgICAgICAgICAgcGFzcwoKICAgICAgICAjIFByb21wdCBpbml0aWFsIHJvYWQgcGxhY2VtZW50CiAgICAgICAgaWYocmVzcG9uc2UgPT0gSU5JVElBTF9QTEFDRV9ST0FEKToKICAgICAgICAgICAgcHJpbnQoJ1BsYWNlIGluaXRpYWwgcm9hZCcpCgogICAgICAgICAgICBwcmludCgnQWxsb3dlZCBMb2NhdGlvbnM6IChyLCBpKS0+KHIyLCBpMiknKQogICAgICAgICAgICBwcmludChhbGxvd2VkX2FjdGlvbnNbJ2FsbG93ZWRfcm9hZF9wb2ludF9wYWlycyddKQoKICAgICAgICAgICAgcHJpbnQoJ3I6JykKICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19yX3Jlc3BvbnNlKQogICAgICAgICAgICBwcmludCgnaTonKQogICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX2lfcmVzcG9uc2UpCgogICAgICAgICAgICBwcmludCgnciAyOicpCiAgICAgICAgICAgIGxvY19yX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChsb2Nfcl9yZXNwb25zZSkKICAgICAgICAgICAgcHJpbnQoJ2kgMjonKQogICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX2lfcmVzcG9uc2UpCgogICAgICAgICMgUHJvbXB0IGluaXRpYWwgc2V0dGxlbWVudCBwbGFjZW1lbnQKICAgICAgICBpZihyZXNwb25zZSA9PSBJTklUSUFMX1BMQUNFX0JVSUxESU5HKToKICAgICAgICAgICAgcHJpbnQoJ1BsYWNlIGluaXRpYWwgc2V0dGxlbWVudCcpCiAgICAgICAgICAgIAogICAgICAgICAgICAjIFRPRE8KICAgICAgICAgICAgIyBHZXQgYWxsIHBsYWNlcyBvbiB0aGUgYm9hcmQgd2hpY2ggYXJlID49MiBkaXN0YW5jZSB0byBuZXh0IHBsYXllciBzZXR0bGVtZW50CiAgICAgICAgICAgIAogICAgICAgICAgICBwcmludCgnQWxsb3dlZCBMb2NhdGlvbnM6IChyLCBpKScpCiAgICAgICAgICAgIHByaW50KGFsbG93ZWRfYWN0aW9uc1snYWxsb3dlZF9zZXR0bGVtZW50X3BvaW50cyddKQoKICAgICAgICAgICAgcHJpbnQoJ3I6JykKICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19yX3Jlc3BvbnNlKQogICAgICAgICAgICBwcmludCgnaTonKQogICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX2lfcmVzcG9uc2UpCgogICAgICAgIGlmKHJlc3BvbnNlID09IFBMQUNFX1JPQUQpOgoKICAgICAgICAgICAgICAgIHByaW50KCdQbGFjZSByb2FkOicpCiAgICAgICAgICAgICAgICBwcmludCgnQWxsb3dlZCBMb2NhdGlvbnM6IChyLCBpKS0+KHIyLCBpMiknKQogICAgICAgICAgICAgICAgcHJpbnQoYWxsb3dlZF9hY3Rpb25zWydhbGxvd2VkX3JvYWRfcG9pbnRfcGFpcnMnXSkKCiAgICAgICAgICAgICAgICBwcmludCgncjonKQogICAgICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICAgICAgICAgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChsb2Nfcl9yZXNwb25zZSkKICAgICAgICAgICAgICAgIHByaW50KCdpOicpCiAgICAgICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19pX3Jlc3BvbnNlKQoKICAgICAgICAgICAgICAgIHByaW50KCdyIDI6JykKICAgICAgICAgICAgICAgIGxvY19yX3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAgICAgICAgICAgICBmdWxsX2FjdGlvbi5hcHBlbmQobG9jX3JfcmVzcG9uc2UpCiAgICAgICAgICAgICAgICBwcmludCgnaSAyOicpCiAgICAgICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgICAgICAgICAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY19pX3Jlc3BvbnNlKQoKICAgICAgICByZXR1cm4gZnVsbF9hY3Rpb24gICAgICAgIAoKCgogICAgZGVmIGRvQWN0aW9uKHNlbGYsIHBsYXllciwgYXJncyk6CiAgICAgICAgYWN0aW9uX3R5cGUgPSBhcmdzWzBdCgogICAgICAgICMgTm8gb3AKICAgICAgICBpZihhY3Rpb25fdHlwZSA9PSBOT19PUCk6CiAgICAgICAgICAgICAgICByZXR1cm4gU3RhdHVzZXMuQUxMX0dPT0QKICAgICAgICAjIFJvbGwKICAgICAgICBpZihhY3Rpb25fdHlwZSA9PSBST0xMKToKICAgICAgICAgICAgICAgIGlmKHNlbGYuZ2FtZS5jYW5fcm9sbCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZ2FtZS5sYXN0X3JvbGwgPSByb2xsID0gc2VsZi5nYW1lLmdldF9yb2xsKCkKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5nYW1lLmNhbl9yb2xsID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgaWYocm9sbCAhPSA3KToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmdhbWUuYm9hcmQuYWRkX3lpZWxkKHJvbGwpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0YXR1c2VzLlJPTExFRF9TRVZFTgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RhdHVzZXMuQUxMX0dPT0QKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdGF0dXNlcy5FUlJfUk9MTAogICAgICAgICMgUHVyY2hhc2UgUmVzb3VyY2UKICAgICAgICBpZihhY3Rpb25fdHlwZSA9PSBQVVJDSEFTRV9SRVNPVVJDRSk6CiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRfcmVzb3VyY2UgPSBhcmdzWzFdCiAgICAgICAgICAgICAgICBmb3JmZWl0ZWRfcmVzb3VyY2UgPSBhcmdzWzJdCiAgICAgICAgICAgICAgICBzdGF0dXMgPSBzZWxmLmdhbWUudHJhZGVfdG9fYmFuayhwbGF5ZXIsIGZvcmZlaXRlZF9yZXNvdXJjZSwgcmVxdWVzdGVkX3Jlc291cmNlKQogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cwoKICAgICAgICAjIFB1cmNoYXNlICYgcGxheSBidWlsZGluZwogICAgICAgIGlmKGFjdGlvbl90eXBlID09IFBVUkNIQVNFX0FORF9QTEFZX0JVSUxESU5HKToKICAgICAgICAgICAgICAgIGJ1aWxkaW5nX3Jlc3BvbnNlID0gYXJnc1sxXQogICAgICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2UgPSBhcmdzWzJdCiAgICAgICAgICAgICAgICBsb2NfaV9yZXNwb25zZSA9IGFyZ3NbM10KICAgICAgICAgICAgICAgIGlmKGJ1aWxkaW5nX3Jlc3BvbnNlID09IDApOgogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBwbGF5ZXIuYnVpbGRfc2V0dGxlbWVudChzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY19yX3Jlc3BvbnNlXVtsb2NfaV9yZXNwb25zZV0pCiAgICAgICAgICAgICAgICBpZihidWlsZGluZ19yZXNwb25zZSA9PSAxKToKICAgICAgICAgICAgICAgICAgICAgICAgbG9jX3JfcmVzcG9uc2VfMiA9IGFyZ3NbNF0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jX2lfcmVzcG9uc2VfMiA9IGFyZ3NbNV0gICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBwbGF5ZXIuYnVpbGRfcm9hZChzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY19yX3Jlc3BvbnNlXVtsb2NfaV9yZXNwb25zZV0sIHNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbbG9jX3JfcmVzcG9uc2VfMl1bbG9jX2lfcmVzcG9uc2VfMl0pCiAgICAgICAgICAgICAgICBpZihidWlsZGluZ19yZXNwb25zZSA9PSAyKToKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gc2VsZi5nYW1lLmFkZF9jaXR5KHNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbbG9jX3JfcmVzcG9uc2VdW2xvY19pX3Jlc3BvbnNlXSwgcGxheWVyKQogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cwoKICAgICAgICAjIFB1cmNoYXNlIGRldiBjYXJkCiAgICAgICAgaWYoYWN0aW9uX3R5cGUgPT0gUFVSQ0hBU0VfREVWX0NBUkQpOgogICAgICAgICAgICAgICAgc3RhdHVzX2FuZF9jYXJkID0gc2VsZi5nYW1lLmJ1aWxkX2RldihwbGF5ZXIubnVtKQogICAgICAgICAgICAgICAgcGxheWVyLmxhc3RfYm91Z2h0X2Rldl9jYXJkID0gc3RhdHVzX2FuZF9jYXJkWzBdIAogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1c19hbmRfY2FyZFsxXQoKICAgICAgICAjIFBsYXkgRGV2IENhcmQKICAgICAgICBpZihhY3Rpb25fdHlwZSA9PSBQTEFZX0RFVl9DQVJEKToKICAgICAgICAgICAgICAgIGRldl9jYXJkX3Jlc3BvbnNlID0gYXJnc1sxXQoKICAgICAgICAgICAgICAgIGlmKGRldl9jYXJkX3Jlc3BvbnNlID09IERldkNhcmQuUm9hZC52YWx1ZSk6CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5wbGF5ZWRfcm9hZF9idWlsZGluZyA9IFRydWUKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJvYWRzX3JlbWFpbmluZyA9IDIKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnJlbW92ZV9kZXZfY2FyZChEZXZDYXJkLlJvYWQpCgogICAgICAgICAgICAgICAgaWYoZGV2X2NhcmRfcmVzcG9uc2UgPT0gRGV2Q2FyZC5LbmlnaHQudmFsdWUpOgogICAgICAgICAgICAgICAgICAgICAgICBsb2NfeF9yZXNwb25zZSA9IGFyZ3NbMl0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jX3lfcmVzcG9uc2UgPSBhcmdzWzNdCiAgICAgICAgICAgICAgICAgICAgICAgIHZpY3RpbV9wbGF5ZXJfcmVzcG9uc2UgPSBhcmdzWzRdCgogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBzZWxmLmdhbWUudXNlX2Rldl9jYXJkKHBsYXllci5udW0sIERldkNhcmQuS25pZ2h0LCB7J3JvYmJlcl9wb3MnOiBbbG9jX3hfcmVzcG9uc2UsIGxvY195X3Jlc3BvbnNlXSwgJ3ZpY3RpbSc6IHZpY3RpbV9wbGF5ZXJfcmVzcG9uc2V9KQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzCgogICAgICAgICAgICAgICAgaWYoZGV2X2NhcmRfcmVzcG9uc2UgPT0gRGV2Q2FyZC5Nb25vcG9seS52YWx1ZSk6CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc291cmNlX3Jlc3BvbnNlID0gYXJnc1syXQoKICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzID0gc2VsZi5nYW1lLnVzZV9kZXZfY2FyZChwbGF5ZXIubnVtLCBEZXZDYXJkLk1vbm9wb2x5LCB7J2NhcmRfdHlwZSc6IFJlc0NhcmQocmVzb3VyY2VfcmVzcG9uc2UpfSkKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cwoKICAgICAgICAgICAgICAgIGlmKGRldl9jYXJkX3Jlc3BvbnNlID09IERldkNhcmQuWWVhck9mUGxlbnR5LnZhbHVlKToKICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RfcmVzb3VyY2VfcmVzcG9uc2UgPSBhcmdzWzJdCiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZF9yZXNvdXJjZV9yZXNwb25zZSA9IGFyZ3NbM10KICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPSBzZWxmLmdhbWUudXNlX2Rldl9jYXJkKHBsYXllci5udW0sIERldkNhcmQuWWVhck9mUGxlbnR5LCB7J2NhcmRfb25lJzogUmVzQ2FyZChmaXJzdF9yZXNvdXJjZV9yZXNwb25zZSksICdjYXJkX3R3byc6IFJlc0NhcmQoc2Vjb25kX3Jlc291cmNlX3Jlc3BvbnNlKX0pCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMKICAgICAgICAjIFBsYXkgcm9iYmVyCiAgICAgICAgaWYoYWN0aW9uX3R5cGUgPT0gUExBWV9ST0JCRVIpOgogICAgICAgICAgICAgICAgbG9jX3hfcmVzcG9uc2UgPSBhcmdzWzFdCiAgICAgICAgICAgICAgICBsb2NfeV9yZXNwb25zZSA9IGFyZ3NbMl0KICAgICAgICAgICAgICAgIHZpY3RpbV9wbGF5ZXJfcmVzcG9uc2UgPSBhcmdzWzNdCgogICAgICAgICAgICAgICAgc3RhdHVzID0gc2VsZi5nYW1lLm1vdmVfcm9iYmVyKHNlbGYuZ2FtZS5ib2FyZC50aWxlc1tsb2NfeF9yZXNwb25zZV1bbG9jX3lfcmVzcG9uc2VdLCBwbGF5ZXIubnVtLCB2aWN0aW1fcGxheWVyX3Jlc3BvbnNlKQogICAgICAgICAgICAgICAgc2VsZi5nYW1lLnJvYmJlcl9tb3ZlZCA9IFRydWUKICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMKCiAgICAgICAgIyBEbyB0cmFkZQogICAgICAgIGlmKGFjdGlvbl90eXBlID09IFNUQVJUX1RSQURFKToKICAgICAgICAgICAgICAgIHBsYXllci5udW1fdHJhZGVzX2luX3R1cm4gKz0gMQogICAgICAgICAgICAgICAgIyBXaGljaCBwbGF5ZXIKICAgICAgICAgICAgICAgIG90aGVyX3BsYXllciA9IGFyZ3NbMV0KICAgICAgICAgICAgICAgIHBsYXllcl9mb3JmaWV0ZWRfcmVzb3VyY2UgPSBhcmdzWzJdCiAgICAgICAgICAgICAgICBwbGF5ZXJfcmVjZWl2ZWRfcmVzb3VyY2UgPSBhcmdzWzNdCgogICAgICAgICAgICAgICAgb3RoZXJfcGxheWVyLnRyYWRpbmdfcGxheWVyID0gcGxheWVyCiAgICAgICAgICAgICAgICBvdGhlcl9wbGF5ZXIucGVuZGluZ190cmFkZSA9IFRydWUKICAgICAgICAgICAgICAgIG90aGVyX3BsYXllci50cmFkZV9mb3JmZWl0X2NhcmQgPSBwbGF5ZXJfcmVjZWl2ZWRfcmVzb3VyY2UKICAgICAgICAgICAgICAgIG90aGVyX3BsYXllci50cmFkZV9yZWNlaXZlX2NhcmQgPSBwbGF5ZXJfZm9yZmlldGVkX3Jlc291cmNlCgoKICAgICAgICAjIEFjY2VwdCBUcmFkZQogICAgICAgIGlmKGFjdGlvbl90eXBlID09IEFDQ0VQVF9UUkFERSk6CiAgICAgICAgICAgICAgICBzdGF0dXMgPSBzZWxmLmdhbWUudHJhZGUocGxheWVyLm51bSwgcGxheWVyLnRyYWRpbmdfcGxheWVyLm51bSwgW3BsYXllci50cmFkZV9mb3JmZWl0X2NhcmRdLCBbcGxheWVyLnRyYWRlX3JlY2VpdmVfY2FyZF0pCiAgICAgICAgICAgICAgICBwbGF5ZXIucGVuZGluZ190cmFkZSA9IEZhbHNlCiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdHVzCiAgICAgICAgIyBEZW55IHRyYWRlCiAgICAgICAgaWYoYWN0aW9uX3R5cGUgPT0gREVOWV9UUkFERSk6CiAgICAgICAgICAgICAgICBwbGF5ZXIucGVuZGluZ190cmFkZSA9IEZhbHNlCgogICAgICAgICMgRm9yZmVpdCBjYXJkcwogICAgICAgIGlmKGFjdGlvbl90eXBlID09IEZPUkZFSVRfQ0FSRFMpOgogICAgICAgICAgICAgICAgcGxheWVyLnJlbW92ZV9jYXJkcyhbYXJnc1sxXV0pCiAgICAgICAgICAgICAgICBwbGF5ZXIuZm9yZmVpdGVkX2NhcmRzX2xlZnQgLT0gMQoKICAgICAgICAjIEVuZCB0dXJuCiAgICAgICAgaWYoYWN0aW9uX3R5cGUgPT0gRU5EX1RVUk4pOgogICAgICAgICAgICAgICAgcGxheWVyLnR1cm5fb3ZlciA9IFRydWUKICAgICAgICAgICAgICAgIHJldHVybiBTdGF0dXNlcy5BTExfR09PRAoKICAgICAgICAjIEluaXRpYWwgcGxhY2VtZW50cwogICAgICAgICMgUm9hZAogICAgICAgIGlmKGFjdGlvbl90eXBlID09IElOSVRJQUxfUExBQ0VfUk9BRCk6CiAgICAgICAgICAgICAgICBsb2Nfcl9yZXNwb25zZSA9IGFyZ3NbMV0KICAgICAgICAgICAgICAgIGxvY19pX3Jlc3BvbnNlID0gYXJnc1syXSAgICAgCiAgICAgICAgICAgICAgICBsb2Nfcl9yZXNwb25zZV8yID0gYXJnc1szXQogICAgICAgICAgICAgICAgbG9jX2lfcmVzcG9uc2VfMiA9IGFyZ3NbNF0gICAgIAogICAgICAgICAgICAgICAgc3RhdHVzID0gcGxheWVyLmJ1aWxkX3JvYWQoc2VsZi5nYW1lLmJvYXJkLnBvaW50c1tsb2Nfcl9yZXNwb25zZV1bbG9jX2lfcmVzcG9uc2VdLCBzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY19yX3Jlc3BvbnNlXzJdW2xvY19pX3Jlc3BvbnNlXzJdLCBpc19zdGFydGluZz1UcnVlKQogICAgICAgICAgICAgICAgcGxheWVyLmhhc19jb21wbGV0ZWRfaW5pdGlhbF9wbGFjZW1lbnQgPSBUcnVlCgogICAgICAgICMgQnVpbGRpbmcKICAgICAgICBpZihhY3Rpb25fdHlwZSA9PSBJTklUSUFMX1BMQUNFX0JVSUxESU5HKToKICAgICAgICAgICAgICAgIGxvY19yX3Jlc3BvbnNlID0gYXJnc1sxXQogICAgICAgICAgICAgICAgbG9jX2lfcmVzcG9uc2UgPSBhcmdzWzJdCiAgICAgICAgICAgICAgICBzdGF0dXMgPSBwbGF5ZXIuYnVpbGRfc2V0dGxlbWVudChzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY19yX3Jlc3BvbnNlXVtsb2NfaV9yZXNwb25zZV0sIGlzX3N0YXJ0aW5nPVRydWUpCiAgICAgICAgICAgICAgICBwbGF5ZXIuaGFzX3BsYWNlZF9pbml0aWFsX3NldHRsZW1lbnQgPSBUcnVlCiAgICAgICAgICAgICAgICBwbGF5ZXIuaW5pdGlhbF9zZXR0bGVtZW50ID0gc2VsZi5nYW1lLmJvYXJkLnBvaW50c1tsb2Nfcl9yZXNwb25zZV1bbG9jX2lfcmVzcG9uc2VdCgogICAgICAgICMgUm9hZCBidWlsZGluZyAKICAgICAgICBpZihhY3Rpb25fdHlwZSA9PSBQTEFDRV9ST0FEKToKICAgICAgICAgICAgICAgIGxvY19yX3Jlc3BvbnNlID0gYXJnc1sxXQogICAgICAgICAgICAgICAgbG9jX2lfcmVzcG9uc2UgPSBhcmdzWzJdICAgICAKICAgICAgICAgICAgICAgIGxvY19yX3Jlc3BvbnNlXzIgPSBhcmdzWzNdCiAgICAgICAgICAgICAgICBsb2NfaV9yZXNwb25zZV8yID0gYXJnc1s0XSAgICAgCiAgICAgICAgICAgICAgICBzdGF0dXMgPSBwbGF5ZXIuYnVpbGRfcm9hZChzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY19yX3Jlc3BvbnNlXVtsb2NfaV9yZXNwb25zZV0sIHNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbbG9jX3JfcmVzcG9uc2VfMl1bbG9jX2lfcmVzcG9uc2VfMl0sIGlzX3N0YXJ0aW5nPVRydWUpCiAgICAgICAgICAgICAgICBpZihwbGF5ZXIucm9hZHNfcmVtYWluaW5nID4gMCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllci5yb2Fkc19yZW1haW5pbmcgLT0gMQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyLnBsYXllZF9yb2FkX2J1aWxkaW5nID0gRmFsc2UKCiAgICAgICAgcmV0dXJuIFN0YXR1c2VzLkFMTF9HT09ECgoKICAgICMgZGVmIHByb21wdEluaXRpYWxQbGFjZW1lbnQoc2VsZik6CiAgICAjICAgICBmdWxsX2FjdGlvbiA9IFtdCiAgICAjICAgICBwcmludCgnU2V0dGxlbWVudCcpCiAgICAjICAgICBwcmludCgnVGlsZSBMb2NhdGlvbiBYOicpCiAgICAjICAgICBsb2NfeF9yZXNwb25zZSA9IGludChpbnB1dCgpKQogICAgIyAgICAgZnVsbF9hY3Rpb24uYXBwZW5kKGxvY194X3Jlc3BvbnNlKQogICAgIyAgICAgcHJpbnQoJ1RpbGUgTG9jYXRpb24gWTonKQogICAgIyAgICAgbG9jX3lfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICMgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChsb2NfeV9yZXNwb25zZSkKCiAgICAjICAgICBwcmludCgnTG9jYXRpb24gcm9hZCBlbmRwb2ludCcpCiAgICAjICAgICBwcmludCgnUm9hZCBMb2NhdGlvbiBYOicpCiAgICAjICAgICByb2FkX2xvY194X3Jlc3BvbnNlID0gaW50KGlucHV0KCkpCiAgICAjICAgICBmdWxsX2FjdGlvbi5hcHBlbmQocm9hZF9sb2NfeF9yZXNwb25zZSkKICAgICMgICAgIHByaW50KCdSb2FkIExvY2F0aW9uIFk6JykKICAgICMgICAgIHJvYWRfbG9jX3lfcmVzcG9uc2UgPSBpbnQoaW5wdXQoKSkKICAgICMgICAgIGZ1bGxfYWN0aW9uLmFwcGVuZChyb2FkX2xvY195X3Jlc3BvbnNlKQoKICAgICMgICAgIHJldHVybiBmdWxsX2FjdGlvbgoKCiAgICAjIGRlZiBkb0luaXRpYWxQbGFjZW1lbnQoc2VsZiwgcGxheWVyLCBhcmdzKToKICAgICMgICAgIGxvY194ID0gYXJnc1swXQogICAgIyAgICAgbG9jX3kgPSBhcmdzWzFdCgogICAgIyAgICAgbG9jX3hfMiA9IGFyZ3NbMl0KICAgICMgICAgIGxvY195XzIgPSBhcmdzWzNdCiAgICAjICAgICBzdGF0dXMgPSBwbGF5ZXIuYnVpbGRfc2V0dGxlbWVudChzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY194XVtsb2NfeV0sIFRydWUpCiAgICAjICAgICBpZihzdGF0dXMgIT0gU3RhdHVzZXMuQUxMX0dPT0QpOgogICAgIyAgICAgICAgICAgICByZXR1cm4gc3RhdHVzCiAgICAjICAgICBzdGF0dXMgPSBwbGF5ZXIuYnVpbGRfcm9hZChzZWxmLmdhbWUuYm9hcmQucG9pbnRzW2xvY194XVtsb2NfeV0sIHNlbGYuZ2FtZS5ib2FyZC5wb2ludHNbbG9jX3hfMl1bbG9jX3lfMl0sIFRydWUpCiAgICAjICAgICByZXR1cm4gc3RhdHVzCgogICAgCiAgICBkZWYgZGlzcGxheUJvYXJkKHNlbGYpOgogICAgICAgICAgICBzZWxmLmJvYXJkUmVuZGVyZXIucmVuZGVyKCkKCiAgICBkZWYgZGlzcGxheVBsYXllckdhbWVJbmZvKHNlbGYsIHBsYXllcik6CiAgICAgICAgcHJpbnQoJ1BsYXllciAnICsgc3RyKHBsYXllci5udW0pICsgJygnICsgY29sb3JzW3BsYXllci5udW1dICsgJyknICAnOicpCiAgICAgICAgcHJpbnQoJ1ZQOiAnICsgc3RyKHBsYXllci5nZXRfVlAoVHJ1ZSkpKQogICAgICAgIHByaW50KCdLbmlnaHQgQ2FyZHMgUGxheWVkOiAnICsgc3RyKHBsYXllci5rbmlnaHRfY2FyZHMpKQogICAgICAgIHByaW50KCdMb25nZXN0IFJvYWQgTGVuZ3RoOiAnICsgc3RyKHBsYXllci5sb25nZXN0X3JvYWRfbGVuZ3RoKSkKICAgICAgICBwcmludCgnRm9yZmVpdGVkIGNhcmRzIGxlZnQ6ICcgKyBzdHIocGxheWVyLmZvcmZlaXRlZF9jYXJkc19sZWZ0KSkKICAgICAgICBwcmludCgnTnVtYmVyIG9mIGF0dGVtcHRlZCB0cmFkZXMgdGhpcyB0dXJuOiAnICsgc3RyKHBsYXllci5udW1fdHJhZGVzX2luX3R1cm4pKQogICAgICAgIHByaW50KCdBY2Nlc3NpYmxlIFBvcnRzOicpCiAgICAgICAgaGFyYm9ycyA9IHBsYXllci5nZXRfY29ubmVjdGVkX2hhcmJvcl90eXBlcygpCiAgICAgICAgcHJpbnQoaGFyYm9ycykKICAgICAgICBwcmludCgnUm9iYmVyIExvY2F0aW9uOicpCiAgICAgICAgcHJpbnQoc2VsZi5nYW1lLmJvYXJkLnJvYmJlcikKICAgICAgICAjIFRPRE8KICAgICAgICAjIEZpbmQgY29ubmVjdGVkIHBvcnRzCgogICAgICAgIHByaW50KCdEZXYgQ2FyZHM6JykKICAgICAgICBwbGF5ZXIucHJpbnRfY2FyZHMocGxheWVyLmRldl9jYXJkcykKCiAgICAgICAgcHJpbnQoJ0NhcmRzOicpCiAgICAgICAgcGxheWVyLnByaW50X2NhcmRzKHBsYXllci5jYXJkcykKICAgICAgICAKICAgICAgICAjIFBlbmRpbmcgdHJhZGVzCiAgICAgICAgaWYocGxheWVyLnBlbmRpbmdfdHJhZGUpOgogICAgICAgICAgICAgICAgcHJpbnQoJ1BlbmRpbmcgVHJhZGUgZnJvbSBwbGF5ZXIgJyArIHN0cihwbGF5ZXIudHJhZGluZ19wbGF5ZXIubnVtKSArICcoJyArIGNvbG9yc1twbGF5ZXIudHJhZGluZ19wbGF5ZXIubnVtXSArICcpJykKICAgICAgICAgICAgICAgIHByaW50KCdGb3JmZWl0OiAnICsgUmVzQ2FyZChwbGF5ZXIudHJhZGVfZm9yZmVpdF9jYXJkKS5uYW1lKQogICAgICAgICAgICAgICAgcHJpbnQoJ1JlY2VpdmU6ICcgKyBSZXNDYXJkKHBsYXllci50cmFkZV9yZWNlaXZlX2NhcmQpLm5hbWUpCgogICAgIyBVc2VkIGZvciBwaXRib3NzIG1vZGUKICAgIGRlZiBkaXNwbGF5TGltaXRlZFBsYXllckdhbWVJbmZvKHNlbGYsIHBsYXllcik6CiAgICAgICAgcHJpbnQoJ1BsYXllciAnICsgc3RyKHBsYXllci5udW0pICsgJygnICsgY29sb3JzW3BsYXllci5udW1dICsgJyknICAnOicpCiAgICAgICAgcHJpbnQoJ0tuaWdodCBDYXJkcyBQbGF5ZWQ6ICcgKyBzdHIocGxheWVyLmtuaWdodF9jYXJkcykpCiAgICAgICAgcHJpbnQoJ0xvbmdlc3QgUm9hZCBMZW5ndGg6ICcgKyBzdHIocGxheWVyLmxvbmdlc3Rfcm9hZF9sZW5ndGgpKQogICAgICAgIHByaW50KCdGb3JmZWl0ZWQgY2FyZHMgbGVmdDogJyArIHN0cihwbGF5ZXIuZm9yZmVpdGVkX2NhcmRzX2xlZnQpKQogICAgICAgIHByaW50KCdOdW1iZXIgb2YgYXR0ZW1wdGVkIHRyYWRlcyB0aGlzIHR1cm46ICcgKyBzdHIocGxheWVyLm51bV90cmFkZXNfaW5fdHVybikpCiAgICAgICAgcHJpbnQoJ0FjY2Vzc2libGUgUG9ydHM6JykKICAgICAgICBoYXJib3JzID0gcGxheWVyLmdldF9jb25uZWN0ZWRfaGFyYm9yX3R5cGVzKCkKICAgICAgICBwcmludChoYXJib3JzKQogICAgICAgIHByaW50KCdSb2JiZXIgTG9jYXRpb246JykKICAgICAgICBwcmludChzZWxmLmdhbWUuYm9hcmQucm9iYmVyKQogICAgICAgIAogICAgICAgICMgUGVuZGluZyB0cmFkZXMKICAgICAgICBpZihwbGF5ZXIucGVuZGluZ190cmFkZSk6CiAgICAgICAgICAgICAgICBwcmludCgnUGVuZGluZyBUcmFkZSBmcm9tIHBsYXllciAnICsgc3RyKHBsYXllci50cmFkaW5nX3BsYXllci5udW0pICsgJygnICsgY29sb3JzW3BsYXllci50cmFkaW5nX3BsYXllci5udW1dICsgJyknKQogICAgICAgICAgICAgICAgcHJpbnQoJ0ZvcmZlaXQ6ICcgKyBSZXNDYXJkKHBsYXllci50cmFkZV9mb3JmZWl0X2NhcmQpLm5hbWUpCiAgICAgICAgICAgICAgICBwcmludCgnUmVjZWl2ZTogJyArIFJlc0NhcmQocGxheWVyLnRyYWRlX3JlY2VpdmVfY2FyZCkubmFtZSkKCiAgICBkZWYgZGlzcGxheU5vbkh1bWFuR2FtZUluZm8oc2VsZiwgcGxheWVyKToKICAgICAgICBwYXNzCiAgICAKCgogICAgZGVmIGRpc3BsYXlGdWxsR2FtZUluZm8oc2VsZik6CiAgICAgICAgc2VsZi5kaXNwbGF5Qm9hcmQoKQogICAgICAgIGZvciBwbGF5ZXIgaW4gc2VsZi5nYW1lLnBsYXllcnM6CiAgICAgICAgICAgICAgICBwcmludCgnUGxheWVyICcgKyBzdHIocGxheWVyLm51bSkgKyAnOicpCiAgICAgICAgICAgICAgICBwcmludCgnQ2FyZHM6JykKICAgICAgICAgICAgICAgIHBsYXllci5wcmludF9jYXJkcyhwbGF5ZXIuY2FyZHMpIAogICAgICAgICAgICAgICAgcHJpbnQoKQoKCkNhdGFuR2FtZSA9IEdhbWVXcmFwcGVyKCkKY1Byb2ZpbGUucnVuKCdDYXRhbkdhbWUuc2V0dXAoKScsICdyZXN0YXRzJykKCnAgPSBwc3RhdHMuU3RhdHMoJ3Jlc3RhdHMnKQojIHByaW50KFtrZXkgZm9yIGtleSBpbiBTb3J0S2V5XSkKcC5zdHJpcF9kaXJzKCkuc29ydF9zdGF0cyhTb3J0S2V5LlRJTUUpLnByaW50X3N0YXRzKDEwKQpwLnByaW50X3N0YXRzKCkAAAAAAAAAAG/DAAAAAAAAAAAAAAAAAAAAAAAAb8MAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"contents": "from pycatan.building import Building\nfrom pycatan.statuses import Statuses\nfrom pycatan.card import ResCard, DevCard\n\nimport math\n\n# The player class for\nclass Player:\n\n    def __init__ (self, game, num):\n        # the game the player belongs to\n        self.game = game\n        # the player number for this player\n        self.num = num\n        # used to track which initial placements the player has made        \n        self.num_initial_settlements = 2\n        self.num_initial_roads = 2\n        self.has_placed_initial_settlement = False\n        self.has_completed_initial_placement = False\n        self.initial_settlement = None\n        # used to determine the longest road\n        self.starting_roads = []\n        # the number of victory points\n        self.victory_points = 0\n        # the cards the player has\n        # each will be a number corresponding with the static variables CARD_<type>\n        self.cards = []\n        # the development cards this player has\n        self.dev_cards = []\n        # the number of knight cards the player has played\n        self.knight_cards = 0\n        # the longest road segment this player has\n        self.longest_road_length = 0\n        # whether the player has ended their turn\n        self.turn_over = True\n        # whether the player has a pending trade\n        self.pending_trade = False\n        # how many trades this player has requested in a turn\n        self.num_trades_in_turn = 0\n        # trading player\n        self.trading_player = None\n        # which card the trading player wants in trade\n        self.trade_forfeit_card = None\n        # which card the player will receive in trade\n        self.trade_receive_card = None\n        # number of cards the player must discard (from a 7 roll)\n        self.forfeited_cards_left = 0\n        # whether the player has played a road building dev card\n        self.played_road_building = False\n        # how many roads the player has left to place\n        self.roads_remaining = 0\n        # store the last bought dev card and the turn it was bought on \n        self.last_bought_dev_card = 0\n        self.last_bought_dev_card_turn = 0\n    # builds a settlement belonging to this player\n    def build_settlement(self, point, is_starting=False):\n\n        if not is_starting:\n            # makes sure the player has the cards to build a settlements\n            cards_needed = [\n                ResCard.Wood,\n                ResCard.Brick,\n                ResCard.Sheep,\n                ResCard.Wheat\n            ]\n\n            # checks the player has the cards\n            if not self.has_cards(cards_needed):\n                return Statuses.ERR_CARDS\n\n            # checks it is connected to a road owned by the player\n            connected_by_road = False\n            # gets the roads\n            roads = self.game.board.roads\n\n            for r in roads:\n                # checks if the road is connected\n                if r.point_one is point or r.point_two is point:\n                    # checks this player owns the road\n                    if r.owner == self.num:\n                        connected_by_road = True\n\n            if not connected_by_road:\n                return Statuses.ERR_ISOLATED\n\n        # checks that a building does not already exist there\n        if point.building != None:\n            return Statuses.ERR_BLOCKED\n\n        # checks all other settlements are at least 2 away\n        # gets the connecting point's coords\n        points = point.connected_points\n        for p in points:\n\n            # checks if the point is occupied\n            if p.building != None:\n                return Statuses.ERR_BLOCKED\n\n        if not is_starting:\n            # removes the cards\n            self.remove_cards(cards_needed)\n\n        # adds the settlement\n        self.game.board.add_building(Building(\n            owner = self.num,\n            type = Building.BUILDING_SETTLEMENT,\n            point_one = point),\n            point = point)\n        # adds a victory point\n        self.victory_points += 1\n\n        return Statuses.ALL_GOOD\n\n    def can_build_dev(self):\n        # makes sure there is still at least one development card left\n        if len(self.game.dev_deck) < 1:\n            return Statuses.ERR_DECK\n        # makes sure the player has the right cards\n        needed_cards = [\n            ResCard.Wheat,\n            ResCard.Ore,\n            ResCard.Sheep\n        ]\n        if not self.has_cards(needed_cards):\n            return Statuses.ERR_CARDS\n        return Statuses.ALL_GOOD\n        # checks if the player has all of the cards given in an array\n    def has_cards(self, cards):\n\n        # needs to duplicate the cards, and then delete them once found\n        # otherwise checking if the player has multiple of the same card\n        # will return true with only one card\n\n        # cards_dup stands for cards duplicate\n        cards_dup = self.cards[:]\n        for c in cards:\n            if cards_dup.count(c) == 0:\n                return False\n            else:\n                index = cards_dup.index(c)\n                del cards_dup[index]\n\n        return True\n\n    def get_types_of_cards_possessed(self):\n        card_types = []\n        for c in self.cards:\n            if not(c in card_types):\n                card_types.append(c)\n        return card_types\n\n    def get_available_buildings(self):\n        available_buildings = []\n\n        road_cards = [\n            ResCard.Wood,\n            ResCard.Brick\n        ]\n\n        settlement_cards = [\n            ResCard.Wood,\n            ResCard.Brick,\n            ResCard.Sheep,\n            ResCard.Wheat\n        ]\n\n        city_cards = [\n            ResCard.Wheat,\n            ResCard.Wheat,\n            ResCard.Ore,\n            ResCard.Ore,\n            ResCard.Ore\n        ]\n\n        if(self.has_cards(settlement_cards)):\n            available_buildings.append(Building.BUILDING_SETTLEMENT)\n\n        if(self.has_cards(road_cards)):\n            available_buildings.append(Building.BUILDING_ROAD)\n\n        if(self.has_cards(city_cards)):\n            available_buildings.append(Building.BUILDING_CITY)\n\n        return available_buildings\n\n    def get_available_robber_placement_tiles_and_victims(self):\n\n        robber_actions = []\n\n        curr_robber = self.game.board.robber\n        # checks the victim has a settlement on the tile\n        for r in self.game.board.tiles:\n            for tile in r:\n                # Check this is a different tile than the current robber tile\n                if(curr_robber):\n                    if(curr_robber.position[0] == tile.position[0] and curr_robber.position[1] == tile.position[1]):\n                        # If not, skip this tile\n                        continue\n\n                # Iterate over points and check if there is a settlement/city on any of them\n                points = tile.points\n                for p in points:\n                    if p != None and p.building != None:\n                        # Check the victim owns the settlement/city and has > 0 cards\n                        for player in self.game.players:\n                            if(p.building.owner == player.num) and (player.num != self.num) and (len(player.cards) > 0):\n                                robber_actions.append((tile, player))\n        return robber_actions\n\n    def get_available_road_point_pairs(self):\n\n        road_point_pairs = []\n\n\n\n        for r in self.game.board.points:\n            for point in r:\n                if(point.building):\n                    if(point.building.owner == self.num):\n                        for local_point in point.connected_points:\n                            location_status = self.road_location_is_valid(start=point, end=local_point)\n                            if(location_status == Statuses.ALL_GOOD):\n                                road_point_pairs.append((point, local_point))\n                        \n\n        for road in self.game.board.roads:\n            if(road.owner == self.num):\n               positions = [road.point_one, road.point_two]\n               for point in positions:\n                    for local_point in point.connected_points:\n                        location_status = self.road_location_is_valid(start=point, end=local_point)\n                        if(location_status == Statuses.ALL_GOOD):\n                            road_point_pairs.append((point, local_point)) \n\n\n        unique_road_point_pairs = []\n        [unique_road_point_pairs.append(pair) for pair in road_point_pairs if pair not in unique_road_point_pairs]\n        return unique_road_point_pairs\n\n\n    def get_available_initial_settlement_points(self):\n        available_points = []\n\n        for r in self.game.board.points:\n            for point in r:\n\n                # Check if there is already a building here\n                if(point.building == None):\n                    # Get all adjacent points and check for buildings there\n                    adj_points_clear = True\n                    points = point.connected_points\n                    for p in points:\n                        if(p.building != None):\n                            if(p.building.type == Building.BUILDING_SETTLEMENT or p.building.type == Building.BUILDING_CITY):\n                                adj_points_clear = False\n\n                    if(adj_points_clear):\n                        available_points.append(point) \n\n        return available_points\n\n\n    def get_available_initial_road_point_pairs(self):\n        available_points = []\n\n        connected_points = self.initial_settlement.connected_points\n        \n        adj_point_clear = True\n        for p in connected_points:\n            if(p.building != None):\n                if(point.building.type == Building.BUILDING_SETTLEMENT or point.building.type == Building.BUILDING_CITY):\n                    adj_points_clear = False\n            if(adj_point_clear):\n                available_points.append((self.initial_settlement, p))\n\n        return available_points\n\n    def get_available_settlement_points(self):\n\n        available_points = []\n\n        for r in self.game.board.points:\n            for point in r:\n                # checks it is connected to a road owned by the player\n                connected_by_road = False\n                # gets the roads\n                roads = self.game.board.roads\n\n                # checks that a settlement or city does not already exist there\n                if(point.building != None):\n                    if(point.building.type == Building.BUILDING_SETTLEMENT or point.building.type == Building.BUILDING_CITY):\n                        continue\n\n                for r in roads:\n                    # checks if the road is connected\n                    if r.point_one is point or r.point_two is point:\n                        # checks this player owns the road\n                        if r.owner == self.num:\n                            connected_by_road = True\n\n                if not connected_by_road:\n                    continue\n\n\n                # checks all other settlements are at least 2 away\n                # gets the connecting point's coords\n                distance_violation = False\n\n                points = point.connected_points\n\n                for p in points:\n                    # checks if the point is occupied\n                    if(p.building != None):\n                        if(p.building.type == Building.BUILDING_SETTLEMENT or p.building.type == Building.BUILDING_CITY):\n                            distance_violation = True\n                            break\n\n                if(distance_violation):\n                    continue\n\n                available_points.append(point)\n\n        return available_points\n\n    def get_available_city_points(self):\n        pass\n\n    def has_at_least_num_cards(self, card_type, num):\n        return self.cards.count(card_type) >= num\n\n\n\n    # adds some cards to a player's hand\n    def add_cards(self, cards):\n        for c in cards:\n            self.cards.append(c)\n\n    # removes cards from a player's hand\n    def remove_cards(self, cards):\n        # makes sure it has all the cards before deleting any\n        if not self.has_cards(cards):\n            return Statuses.ERR_CARDS\n\n        else:\n            # removes the cards\n            for c in cards:\n                index = self.cards.index(c)\n                del self.cards[index]\n\n    #adds a development card\n    def add_dev_card(self, dev_card):\n        self.dev_cards.append(dev_card)\n\n    # removes a dev card\n    def remove_dev_card(self, card):\n        # finds the card\n        for i in range(len(self.dev_cards)):\n            if self.dev_cards[i] == card:\n\n                # deletes the card\n                del self.dev_cards[i]\n                return Statuses.ALL_GOOD\n\n        # error if the player does not have the cards\n        return Statuses.ERR_CARDS\n\n\n\n\n    # checks a road location is valid\n    def road_location_is_valid(self, start, end):\n        has_city_owned_point = False\n        # checks if this player owns the settlement/city\n        # At most one point can be owned by a different player\n        if start.building != None:\n            if start.building.owner == self.num:\n                has_city_owned_point = True\n\n        # does the same for the other point\n        if end.building != None:\n            if end.building.owner == self.num:\n                has_city_owned_point = True\n\n        # # checks the two points are connected\n        # connected = False\n        # # gets the points connected to start\n        # points = start.connected_points\n\n        # for p in points:\n        #     if end == p:\n        #         connected = True\n        #         break\n\n        # if not connected:\n        #     return Statuses.ERR_NOT_CON\n\n        # checks the road does not already exists with these points\n        for road in self.game.board.roads:\n            if (road.point_one == start or road.point_two == start):\n                if road.point_one == end or road.point_two == end:\n                    return Statuses.ERR_BLOCKED\n\n\n        # then checks if there is a road connecting them\n        has_road_owned_point = False\n\n        roads = self.game.board.roads\n        # points = [start, end]\n\n        for r in roads:\n            if(r.owner == self.num):\n                if (r.point_one == start or r.point_one == end) or (r.point_two == start or r.point_two == end):\n                    has_road_owned_point = True\n                # checks that there is not another player's settlement here, so that it's not going through it\n                # if(p.building == None):\n                #     is_connected = True\n\n        if(has_road_owned_point or has_city_owned_point):\n            return Statuses.ALL_GOOD\n        else:\n            return Statuses.ERR_BLOCKED\n\n    def get_available_upgrade_points(self):\n        points = []\n\n        for r in self.game.board.points:\n            for point in r:\n                # Get building at point\n                building = point.building\n\n                # checks there is a settlement at r, i\n                if building == None:\n                    continue\n\n                # checks the settlement is controlled by the correct player\n                # if no player is specified, uses the current controlling player\n                if building.owner != self.num:\n                    continue\n\n                # checks it is a settlement and not a city\n                if building.type != Building.BUILDING_SETTLEMENT:\n                    continue\n                points.append(point)\n\n        return points\n\n    # builds a road\n    def build_road(self, start, end, is_starting=False):\n\n        # checks the location is valid\n        location_status = self.road_location_is_valid(start=start, end=end)\n\n        if not location_status == Statuses.ALL_GOOD:\n            return location_status\n\n        # if the road is being created on the starting turn, the player does not needed\n        # to have the cards\n        if not is_starting:\n\n            # checks that it has the proper cards\n            cards_needed = [\n                ResCard.Wood,\n                ResCard.Brick\n            ]\n            if not self.has_cards(cards_needed):\n                return Statuses.ERR_CARDS\n\n            # removes the cards\n            self.remove_cards(cards_needed)\n\n        # adds the road\n        road = Building(owner=self.num, type=Building.BUILDING_ROAD, point_one=start, point_two=end)\n        (self.game).board.add_road(road)\n\n        self.get_longest_road(new_road=road)\n\n        return Statuses.ALL_GOOD\n\n    # returns an array of all the harbors the player has access to\n    def get_connected_harbor_types(self):\n\n        # gets the settlements/cities belonging to this player\n        harbors = []\n        all_harbors = self.game.board.harbors\n        buildings = self.game.board.get_buildings()\n\n        for b in buildings:\n            # checks the building belongs to this player\n            if b.owner == self.num:\n                # checks if the building is connected to any harbors\n                for h in all_harbors:\n                    # print(h)\n                    # print(b.point)\n                    if h.point_one is b.point or h.point_two is b.point:\n                        # print(\"A\")\n                        # adds the type\n                        if harbors.count(h.type) == 0:\n                            harbors.append(h.type)\n\n        return harbors\n\n    # gets the longest road segment this player has which includes the road given\n    # should be called whenever a new road is build\n    # since this player's longest road will only change if a new road is build\n    def get_longest_road(self, new_road):\n\n        # gets the roads that belong to this player\n        roads = self.get_roads()\n        del roads[roads.index(new_road)]\n\n        # checks for longest road\n        # print('===Debug===')\n        self.check_connected_roads(road=new_road, all_roads=roads, length=1)\n\n    # checks the roads for connected roads, and then checks those roads until there are no more\n    def check_connected_roads(self, road, all_roads, length):\n        # print('---------------')\n        # print(road)\n        # print(all_roads)\n        # print(length)\n        # print()\n        # print()\n\n        # do both point one and two\n        points = [\n            road.point_one,\n            road.point_two\n        ]\n\n        for p in points:\n            # gets the connected roads\n            connected = self.get_connected_roads(point=p, roads=all_roads)\n            # print(connected)\n            # print('---------------')\n            # if there are no new connected roads\n            if len(connected) == 0:\n                # if this is the longest road so far\n                if (length-1) > self.longest_road_length:\n                    # records the length\n                    self.longest_road_length = (length-1)\n                    # self.begin_celebration()\n\n            # if there are connected roads\n            else:\n                # check each of them for connections if they have not been used\n                for c in connected:\n                    # checks it hasn't used this road before\n                    if all_roads.count(c) > 0:\n                        # copies all usable roads\n                        c_roads = all_roads[:]\n                        # removes this road from them\n                        del c_roads[c_roads.index(c)]\n                        # checks for connected roads to this road\n                        self.check_connected_roads(c, c_roads, length + 1)\n\n\n\n\n\n    # returns which roads in the roads array are connected to the point\n    def get_connected_roads(self, point, roads):\n        con_roads = []\n        for r in roads:\n            if r.point_one == point or r.point_two == point:\n                con_roads.append(r)\n\n        return con_roads\n\n    # returns an array of all the roads belonging to this player\n    def get_roads(self):\n        # gets all the roads on the board\n        all_roads = (self.game).board.roads\n        # filters out roads that do not belong to this player\n        roads = []\n        for r in all_roads:\n            if r.owner == self.num:\n                roads.append(r)\n\n        return roads\n\n    # checks if the player has some development cards\n    def has_dev_cards(self, cards):\n        card_duplicate = self.dev_cards[:]\n        for c in cards:\n            if not card_duplicate.count(c) > 0:\n                return False\n            else:\n                del card_duplicate[card_duplicate.index(c)]\n\n        return True\n\n    # returns the number of VP\n    # if include_dev is False, it will not include points from developement cards\n    # because other players aren't able to see them\n    def get_VP(self, include_dev=False):\n\n        # gets the victory points from settlements and cities\n        points = self.victory_points\n\n        # adds VPs from longest road\n        if self.game.longest_road_owner == self.num:\n            points += 2\n\n        # adds VPs from largest army\n        if self.game.largest_army == self.num:\n            points += 2\n\n        # adds VPs from developement cards\n        if include_dev:\n            for d in self.dev_cards:\n                if d == DevCard.VictoryPoint:\n                    points += 1\n\n        return points\n\n    # prints the cards given\n    @staticmethod\n    def print_cards(cards):\n        print(\"[\")\n        for c in cards:\n\n            card_name = \"\"\n\n            if c == ResCard.Wood:\n                card_name = \"Wood\"\n\n            elif c == ResCard.Sheep:\n                card_name = \"Sheep\"\n\n            elif c == ResCard.Brick:\n                card_name = \"Brick\"\n\n            elif c == ResCard.Wheat:\n                card_name = \"Wheat\"\n\n            elif c == ResCard.Ore:\n                card_name = \"Ore\"\n\n            elif c == DevCard.Road:\n                card_name = \"Road\"\n\n            elif c == DevCard.VictoryPoint:\n                card_name = \"VP\"\n\n            elif c == DevCard.Knight:\n                card_name = \"Knight\"\n\n            elif c == DevCard.Monopoly:\n                card_name = \"Monopoly\"\n\n            elif c == DevCard.YearOfPlenty:\n                card_name = \"YOP\"\n\n            else:\n                print(\"INVALID CARD %s\" % c)\n                continue\n\n            if cards.index(c) < len(cards) - 1:\n                card_name += \",\"\n\n            print(\"    %s\" % card_name)\n\n        print(\"]\")\n",
			"file": "pycatan/player.py",
			"file_size": 23076,
			"file_write_time": 132747609126627156,
			"settings":
			{
				"buffer_size": 22421,
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					137,
					1,
					"insert",
					{
						"characters": "\n\n\n"
					},
					"AwAAAGBMAAAAAAAAYUwAAAAAAAAAAAAAYUwAAAAAAABiTAAAAAAAAAAAAABiTAAAAAAAAGNMAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABgTAAAAAAAAGBMAAAAAAAAAAAAAAAA8L8"
				],
				[
					139,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAGFMAAAAAAAAYkwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABhTAAAAAAAAGFMAAAAAAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "random_agent.py",
			"settings":
			{
				"buffer_size": 4667,
				"line_ending": "Windows"
			}
		},
		{
			"file": "todo.txt",
			"settings":
			{
				"buffer_size": 933,
				"encoding": "UTF-8",
				"line_ending": "Windows"
			},
			"undo_stack":
			[
				[
					15,
					1,
					"",
					null,
					"AgAAAKUDAAAAAAAA6wMAAAAAAAAAAAAAYQAAAAAAAABhAAAAAAAAAEYAAAAtKiogRGV2IGNhcmQgY2FuIG9ubHkgYmUgcGxheWVkIGF0IGxlYXN0IGEgdHVybiBhZnRlciBpdCB3YXMgcHVyY2hhc2Vk",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACnAAAAAAAAAGEAAAAAAAAAAAAAAAAA8L8"
				],
				[
					18,
					2,
					"left_delete",
					null,
					"AgAAAGEDAAAAAAAAYQMAAAAAAAABAAAAKmADAAAAAAAAYAMAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABiAwAAAAAAAGIDAAAAAAAAAAAAAAAA8L8"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAF8DAAAAAAAAYAMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABfAwAAAAAAAF8DAAAAAAAAAAAAAAAA8L8"
				],
				[
					36,
					1,
					"left_delete",
					null,
					"AQAAAGAAAAAAAAAAYAAAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABhAAAAAAAAAGEAAAAAAAAAAAAAAACgZEA"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": "**"
					},
					"AgAAACcAAAAAAAAAKAAAAAAAAAAAAAAAKAAAAAAAAAApAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAnAAAAAAAAACcAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "catanrl.sublime-project",
			"settings":
			{
				"buffer_size": 78,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					2,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAAtAAAAewoJImZvbGRlcnMiOgoJWwoJCXsKCQkJInBhdGgiOiAiLiIKCQl9CgldCn0KAAAAAAAAAABOAAAAAAAAAAAAAAAAAAAAAAAAAE4AAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
		[
			[
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 784.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"settings",
				"Preferences: Settings"
			],
			[
				"markdown",
				"Set Syntax: Markdown"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"install pa",
				"Package Control: Install Package"
			],
			[
				"rename",
				"Rename File"
			],
			[
				"json",
				"Pretty JSON: Format JSON Lines"
			],
			[
				"ternjs",
				"TernJS: Reload"
			],
			[
				"ay",
				"ayu: Activate theme"
			],
			[
				"browse",
				"Preferences: Browse Packages"
			],
			[
				"error",
				"TypeScript: Show Error List"
			],
			[
				"build sy",
				"Build: New Build System"
			],
			[
				"packagae control remo",
				"Package Control: Remove Package"
			],
			[
				"build",
				"Build With: typescript_node"
			],
			[
				"Package Control: upda",
				"Package Control: Upgrade Package"
			],
			[
				"Package Control: inst",
				"Package Control: Install Package"
			],
			[
				"Package Control: ",
				"Package Control: Install Package"
			],
			[
				"virtual",
				"Virtualenv: Add directory"
			],
			[
				"package ",
				"Package Control: List Packages"
			],
			[
				"virut",
				"Virtualenv: Activate"
			],
			[
				"Package Control: ins",
				"Package Control: Install Package"
			],
			[
				"Package Control: add",
				"Package Control: Add Repository"
			],
			[
				" install pack",
				"Package Control: Install Package"
			],
			[
				"packag",
				"Install Package Control"
			],
			[
				"syntax javaS",
				"Set Syntax: JavaScript"
			],
			[
				"syntax HTML",
				"Set Syntax: HTML"
			]
		],
		"width": 856.0
	},
	"console":
	{
		"height": 0.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": true,
		"show_open_files": false,
		"show_tabs": true,
		"side_bar_visible": true,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/C/Users/WilliamAllen/Desktop/APP/CatanRL",
		"/C/Users/WilliamAllen/Desktop/APP/CatanRL/pycatan"
	],
	"file_history":
	[
		"/C/Users/WilliamAllen/Downloads/bad3.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/CatanRL/agent.py",
		"/C/Users/WilliamAllen/Desktop/APP/CatanRL/random_agent.py",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/include/Package.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/include/Liquid.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/include/AmazonTruck.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/include/Address.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/CMakeLists.txt",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/src/input.txt",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/src/test.cpp",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/src/Driver.cpp",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/src/AmazonTruck.cpp",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/include/Dimension.h",
		"/C/Users/WilliamAllen/Desktop/School/old/Spring2021School/csce121/lw_linked/compilefull.sh",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/Dimension.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/Liquid.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/Package.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/AmazonTruck.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/Address.h",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/src/Address.cpp",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/Address.cpp",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/AmazonTruck.cpp",
		"/C/Users/WilliamAllen/Desktop/School/Fall2021School/221/Driver.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/CMakeLists.txt",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/gui/renderer/board_renderer.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board/actionpoint.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/gui/renderer/board_renderer.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board/board.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/game/game.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board/board.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/shaders/sprite.vs",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/game/game.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board/actionpoint.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board/tile.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board/tile.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/constants/PortType.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/constants/ResourceType.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/constants/BuildingType.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/utils/print_utils.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/gui/renderer/resource_manager.cpp",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_mars_rover/Rover.h",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_cppers/compilefull.sh",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_cppers/compile.sh",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_dungeon_crawler/helper.h",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_dungeon_crawler/helper.cpp",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_dungeon_crawler/logic.h",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_dungeon_crawler/dungeoncrawler.cpp",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_dungeon_crawler/compile.sh",
		"/C/Users/WilliamAllen/Downloads/lab7-1.py",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/hw_dungeon_crawler/logic.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/personal_website/public/index.html",
		"/C/Users/WilliamAllen/Desktop/APP/personal_website/package.json",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/libs/nanogui/ext/glad/include/glad/glad.h",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/libs/nanogui/ext/glad/src/glad.c",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/glad.c",
		"/C/Users/WilliamAllen/Downloads/glad/src/glad.c",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zE40972303/glad.c",
		"/C/Users/WilliamAllen/Desktop/APP/Catan/src/board.cpp",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/lw_2/nth_root.h",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/lw_2/test_helpers.h",
		"/C/Users/WilliamAllen/Desktop/Spring2021School/csce121/lw_2/nth_root.cpp",
		"/C/Users/WilliamAllen/Desktop/School Spring 2021/csce 121/hw_1/grade_calculator.cpp",
		"/C/Users/WilliamAllen/Downloads/schedule.ics",
		"/C/Users/WilliamAllen/Desktop/School Spring 2021/csce 121/grade_calculator.cpp",
		"/C/Users/WilliamAllen/Desktop/APP/catalog_gen/app.js",
		"/C/Users/WilliamAllen/Desktop/APP/catalog_gen/Page.ts",
		"/C/Users/WilliamAllen/Desktop/APP/catalog_gen/Entity.ts",
		"/C/Users/WilliamAllen/Desktop/APP/catalog_gen/Container.ts",
		"/C/Users/WilliamAllen/Desktop/APP/catalog_gen/paginate.ts",
		"/C/Users/WilliamAllen/AppData/Local/Temp/7zOCEF9D116/main.js",
		"/C/Users/WilliamAllen/AppData/Local/Temp/7zO40D6EE20/Untitled.tex",
		"/C/Users/WilliamAllen/Downloads/main.go",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1008.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1009.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1010.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1011.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1012.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1054.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1056.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1055.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1057.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1058.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1059.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1000.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300101_1060.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1001.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1002.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1004.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1003.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1005.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1006.html.json",
		"/C/Users/WilliamAllen/Downloads/testjson/19300102_1007.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1000.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300101_1056.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1006.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1018.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1029.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1004.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1039.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1041.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300102_1044.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300103_1001.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300103_1011.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300103_1017.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300103_1023.html.json",
		"/C/Users/WILLIA~1/AppData/Local/Temp/7zEC6366CBF/19300103_1028.html.json",
		"/C/Users/WilliamAllen/Desktop/APP/votefraud/DeadVoterDatabase/README.md",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/src/empire/Empire.ts",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/src/creep/worker/Harvester.ts",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/src/main.ts",
		"/C/Users/WilliamAllen/Desktop/temp.py",
		"/C/Users/WilliamAllen/Downloads/HW6-Problem1(1).tex",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/src/utils/RoomUtils.ts",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/.gitignore",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/dist/main.js",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/src/types.d.ts",
		"/C/Users/WilliamAllen/Desktop/APP/Empire/src/room/room.ts",
		"/C/Users/WilliamAllen/Desktop/RomeAI/todo.txt",
		"/C/Users/WilliamAllen/Desktop/core/ios/redux-saga/sagas/SocketSagas.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/Components/FeedPage/index.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/node_modules/@codler/react-native-keyboard-aware-scroll-view/lib/KeyboardAwareInterface.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/Components/ChatPage/ChatScreen.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/node_modules/@codler/react-native-keyboard-aware-scroll-view/lib/KeyboardAwareHOC.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/package.json",
		"/C/Users/WilliamAllen/Desktop/core/ios/yarn.lock",
		"/C/Users/WilliamAllen/Desktop/core/ios/node_modules/native-base/dist/src/basic/Content.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/redux/constants/ActionTypes.js",
		"/C/Users/WilliamAllen/Desktop/core/ios/app.json"
	],
	"find":
	{
		"height": 25.0
	},
	"find_in_files":
	{
		"height": 208.0,
		"where_history":
		[
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"road"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "GameWrapper.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 50031,
						"regions":
						{
						},
						"selection":
						[
							[
								987,
								987
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 8,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1386.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "pycatan/player.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 22421,
						"regions":
						{
						},
						"selection":
						[
							[
								18063,
								18064
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6778.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 2,
					"file": "random_agent.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4667,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "todo.txt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 933,
						"regions":
						{
						},
						"selection":
						[
							[
								933,
								933
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"show_definitions": true,
							"syntax": "Packages/Text/Plain text.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "catanrl.sublime-project",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 78,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"show_definitions": true,
							"syntax": "Packages/zzz A File Icon zzz/aliases/JSON (Sublime).sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 25.0
	},
	"input":
	{
		"height": 78.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			],
			[
				1,
				0,
				2,
				1
			]
		],
		"cols":
		[
			0.0,
			0.5,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.doc":
	{
		"height": 0.0
	},
	"output.errorlist":
	{
		"height": 102.0
	},
	"output.exec":
	{
		"height": 224.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.mdpopups":
	{
		"height": 0.0
	},
	"pinned_build_system": "Packages/User/typescript_node.sublime-build",
	"project": "catanrl.sublime-project",
	"replace":
	{
		"height": 46.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"select_symbol":
	{
		"height": 345.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 592.0
	},
	"selected_group": 0,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 203.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
